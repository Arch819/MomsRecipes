!function(){function t(t,e,r,n){Object.defineProperty(t,e,{get:r,set:n,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},s=r.parcelRequire07b5;null==s&&((s=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){a[t]=e},r.parcelRequire07b5=s),s.register("iE7OH",(function(e,r){var n,a;t(e.exports,"register",(function(){return n}),(function(t){return n=t})),t(e.exports,"resolve",(function(){return a}),(function(t){return a=t}));var s={};n=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)s[e[r]]=t[e[r]]},a=function(t){var e=s[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),s.register("aNJCr",(function(e,r){var n;t(e.exports,"getBundleURL",(function(){return n}),(function(t){return n=t}));var a={};function s(t){return(""+t).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(t){var e=a[t];return e||(e=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(t)return s(t[2])}return"/"}(),a[t]=e),e}})),s("iE7OH").register(JSON.parse('{"i4hX4":"favorites.331af6f5.js","ee16w":"sprite.7aa8ebb7.svg","gt5lo":"favorites.87410a7d.js"}'));var i=s("bpxeT"),o=s("2TvXO");s("1WWhr"),s("bWgPh"),s("24cCg");i=s("bpxeT"),o=s("2TvXO"),i=s("bpxeT"),o=s("2TvXO");var c,u=s("dIxxU");c=s("aNJCr").getBundleURL("i4hX4")+s("iE7OH").resolve("ee16w");var l,f,v=s("6JpON"),p=function(t){return"<div class='favorites__rating'>\n              <div class=\"favorites__rating-body\">\n                <div class=\"favorites__rating-active\"><div class='favorites__cards-rating'>".concat(t,"</div>").concat(function(t){for(var r=Math.round(t),n='<svg class="favorites__star-active"><use href="'.concat(e(c),'#icon-star"></use></svg>'),a='<svg class="favorites__star-notActive"><use href="'.concat(e(c),'#icon-star-grey"></use></svg>'),s=[],i=1;i<=5;i+=1)s.push(i>r?a:n);return s.join("")}(t),'</div>\n                <div class="favorites__rating-items">\n                  <input type="radio" class="favorites__rating-item" value="1" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="2" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="3" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="4" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="5" name="rating">\n                </div>\n              </div>\n  \n    </div>')},d=function(t){var r;return(r=t,r.map((function(t){var r=t.data;return'\n        <li class="favorites__cards-item">\n        <button type="button" id="#'.concat(r._id,'" class="icon-button" data-category="').concat(r.category,'"><svg class="favorites__heart heart-isActive"><use href="').concat(e(c),'#icon-heart"></use></svg></button>\n          <div class="favorit__img-thumb"><img src="').concat(r.preview,'" alt="').concat(r.title,'" width="335"></div>\n          <div class="favorites__cards-thumb">\n            <h2 class="favorites__cards-title">').concat(r.title,'</h2>\n            <p class="favorites__cards-text">').concat(r.description,'</p>\n            <div class="favorites__rating-thumb">\n              ').concat(p(r.rating),'\n              <button class="favorites__cards-btn js-card-button" data-id="').concat(r._id,'">See recipe</button>\n            </div>\n          </div>\n        </li>')}))).join("")},g=function(){return'<svg class="favorites__empty-img">\n      <use href="'.concat(e(c),'#icon-elements"></use>\n    </svg>\n    <p class="favorites__text">').concat("It appears that you haven't added any recipes to your favorites yet. To get started, you can add recipes that you like to your favorites for easier access in the future.","</p>")},_=function(t){try{var e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch(t){console.error("Error while parsing local storage data:",t)}},h=function(){return e(v).Report.failure("Error","Oops! Something went wrong! Try reloading the page!","OK")},m=(l=e(i)(e(o).mark((function t(r){var n;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.default.get("".concat("https://tasty-treats-backend.p.goit.global/api/recipes/").concat(r));case 3:if(404!==(n=t.sent).status){t.next=6;break}throw new Error("Page not found error 404");case 6:return t.abrupt("return",n);case 9:t.prev=9,t.t0=t.catch(0),h();case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),function(t){return l.apply(this,arguments)}),y=(f=e(i)(e(o).mark((function t(r){var n,a;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.map(function(){var t=e(i)(e(o).mark((function t(r){var n;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=3,Promise.all(n);case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)}))),function(t){return f.apply(this,arguments)}),b=function(t){return function(t){var e=[],r=!0,n=!1,a=void 0;try{for(var s,i=t[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var o=s.value;e.includes(o)||e.push(o)}}catch(t){n=!0,a=t}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}var c=e.map((function(t){return'<li><button type="button" class="favorites__filter-btn">'.concat(t,"</button></li>")}));return c.unshift('<li><button type="button" class="favorites__filter-btn favorites__active-btn">All categories</button></li>'),c}(t).join("")},x=function(){var t=e(i)(e(o).mark((function t(r){var n,a,s;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y(r.map((function(t){return t.id})));case 3:return n=t.sent,a=n.map((function(t){return t.data.category})),s=b(a),t.abrupt("return",s);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),h();case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=e(i)(e(o).mark((function t(r,n,a){var s,i,c,u,l;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y(r.map((function(t){return t.id})));case 3:return s=t.sent,c=(i=(n-1)*a)+a,u=s.slice(i,c),l=d(u),t.abrupt("return",l);case 11:t.prev=11,t.t0=t.catch(0),h(),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r,n){return t.apply(this,arguments)}}(),k=(i=s("bpxeT"),o=s("2TvXO"),document.querySelector(".favorites__empty")),S=document.querySelector(".favorites__img"),T=document.querySelector(".favorites__list-filter"),L=document.querySelector(".favorites__list-cards"),H=document.querySelector(".favorites__pagination"),O=(document.querySelector(".favorites__list-cards-thumb"),window.innerWidth);function E(t,r){var n="",a=r-1,s=r+1;n+='<li class="favorites__pagination-item">\n    <div class="favorites__pag-container start-container">\n      <svg class="favorites__start-arrow-first">\n        <use href="'.concat(e(c),'#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__start-arrow-second">\n        <use href="').concat(e(c),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container prew-container">\n      <svg class="favorites__prew-arrow">\n        <use href="').concat(e(c),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>'),r>2&&(n+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),O>=768&&(r==t&&(a-=1),1==r&&(s+=1));for(var i=a;i<=s;i++)if(!(i>t)){if(O>=768)0==i&&(i+=1);else if(i<=0)continue;n+='<li class="favorites__pagination-item '.concat(r==i?"favorites__active-btn":"",'">\n    <span class="favorites__pag-page">').concat(i,"</span>\n  </li>")}r<t-1&&(n+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),n+='<li class="favorites__pagination-item">\n    <div class="favorites__pag-container next-container">\n      <svg class="favorites__next-arrow">\n        <use href="'.concat(e(c),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container end-container">\n      <svg class="favorites__end-arrow-first">\n        <use href="').concat(e(c),'#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__end-arrow-second">\n        <use href="').concat(e(c),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>'),H.innerHTML=n}var M=function(){var t=e(i)(e(o).mark((function t(r,n,a,s){var i,c,u,l,f,v;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=Number(localStorage.getItem("page")))||(i=1),!r.target.closest(".start-container")){t.next=10;break}return i=1,t.next=6,w(n,i,a);case 6:c=t.sent,L.innerHTML=c,E(s,i),localStorage.setItem("page",i);case 10:if(!r.target.closest(".favorites__prew-arrow")){t.next=19;break}if(1===i){t.next=19;break}return i-=1,t.next=15,w(n,i,a);case 15:u=t.sent,L.innerHTML=u,E(s,i),localStorage.setItem("page",i);case 19:if(!r.target.closest(".favorites__pag-page")){t.next=33;break}return t.prev=20,i=Number(r.target.textContent),t.next=24,w(n,i,a);case 24:l=t.sent,L.innerHTML=l,E(s,i),localStorage.setItem("page",i),t.next=33;break;case 30:t.prev=30,t.t0=t.catch(20),console.error("An error occurred:",t.t0);case 33:if(!r.target.closest(".favorites__next-arrow")){t.next=42;break}if(i===s){t.next=42;break}return i+=1,t.next=38,w(n,i,a);case 38:f=t.sent,L.innerHTML=f,E(s,i),localStorage.setItem("page",i);case 42:if(!r.target.closest(".end-container")){t.next=50;break}return i=s,t.next=46,w(n,i,a);case 46:v=t.sent,L.innerHTML=v,E(s,i),localStorage.setItem("page",i);case 50:case"end":return t.stop()}}),t,null,[[20,30]])})));return function(e,r,n,a){return t.apply(this,arguments)}}();s("axyAW"),s("8rl3z"),s("62eWH");var I=window.innerWidth,A=12;I<768&&(A=9);var j=null,q=null,C=function(t){if(t.classList.contains("favorites__filter-btn")){var e=document.querySelector(".favorites__active-btn");e&&e.classList.remove("favorites__active-btn"),t.classList.add("favorites__active-btn")}},N=function(t){var e=t.target.closest(".icon-button");if(e){var r=t.target.closest(".favorites__cards-item");r&&(r.style.display="none");var n=e.id.slice(1),a=e.getAttribute("data-category"),s=_("favorites")||[],i=s.findIndex((function(t){return t.id===n}));-1!==i?s.splice(i,1):s.push({id:n,category:a}),localStorage.setItem("favorites",JSON.stringify(s)),e.querySelector(".favorites__heart").classList.toggle("heart-isActive")}},R=function(){var t=e(i)(e(o).mark((function t(r){var n,a,s;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("button"===(n=r.target).type){t.next=3;break}return t.abrupt("return");case 3:if(C(n),j=_("favorites"),a=j,"All categories"!==n.textContent&&(a=j.filter((function(t){return t.category===n.textContent}))),0===a.length){t.next=21;break}return localStorage.setItem("page",1),j=a,q=Math.ceil(a.length/A),H.style.display=q>1?"flex":"none",E(q,1),t.next=15,w(a,1,A);case 15:return s=t.sent,L.innerHTML=s,L.style.justifyContent="start",t.abrupt("return",1);case 21:L.innerHTML='<li class="favorites__list-cards-thumb">'.concat(g(),"</li>"),L.style.justifyContent="center";case 22:return t.abrupt("return",1);case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),W=function(){var t=e(i)(e(o).mark((function t(){var r,n;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(H.style.display="none",j=_("favorites")||[],I<768&&0===j.length&&(L.style.minHeight="100hv"),0!==j.length){t.next=7;break}return I<768&&(S.style.display="none"),(e=k).classList.add("empty"),e.insertAdjacentHTML("beforeend",g()),t.abrupt("return");case 7:return S.style.display="block",q=Math.ceil(j.length/A),t.next=11,x(j);case 11:if(r=t.sent){t.next=16;break}return T.style.display="none",L.innerHTML='\n    <li class="error-message"><h2>Error</h2>\n    <p>Oops! Something went wrong! Try reloading the page!</p></li>',t.abrupt("return");case 16:return t.next=18,w(j,1,A);case 18:n=t.sent,T.innerHTML=r,L.innerHTML=n,q>1&&(H.style.display="flex",E(q,1)),L.addEventListener("click",N);case 23:case"end":return t.stop()}var e}),t)})));return function(){return t.apply(this,arguments)}}();document.querySelector(".favorites__list-filter").addEventListener("click",R),H.addEventListener("click",(function(t){M(t,j,A,q)})),W(),window.addEventListener("beforeunload",(function(){localStorage.removeItem("page")}))}();
//# sourceMappingURL=favorites.331af6f5.js.map

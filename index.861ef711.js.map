{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAGA,MAGMC,EAAYC,SAASC,cAAc,8BAEzC,SAASC,IACPL,EAAAM,QACGC,IANH,kEAOGC,MAAKC,IACJ,MAAMC,EAAiBD,EAASE,KAC1BC,EAAcC,OAAOC,WAAa,IAAM,EAAI,EAC5CC,EAAgBL,EAAeM,MAAM,EAAGJ,GACxCK,EAAoCF,ECP3CG,KACCC,IAAU,gLAIyBA,EAAOC,iBAAiBD,EAAOE,uFAoCjDA,EAlC8BF,EAAOE,MAmCtDA,EAAMC,OA9Ca,GA+CdD,EAAML,MAAM,EA/CE,IA+CuB,MAEvCK,mDArCiCE,EAAaJ,EAAOK,+EAiC9D,IAAuBH,CA5BtB,IAEII,KAAK,IDPJvB,EAAUwB,UAAYT,CAAM,IAE7BU,OAAMC,IACLC,QAAQD,MAAM,kCAAmCA,EAAM,G,CAI7Df,OAAOiB,iBAAiB,SAAUzB,GAClCA,ICtBA,MAAM0B,EAAe5B,SAAS6B,iBAAiB,qBAC/C,IAAIC,EAAgB,GAuBpB,SAASC,IAELD,EADEpB,OAAOC,WAAa,IACN,IAEA,GAGlBiB,EAAaI,SAAQX,IACnB,MAAMY,EAAOZ,EAAYa,YACzBb,EAAYa,YAAcd,EAAaa,EAAK,G,CAOhD,SAASb,EAAaa,GACpB,OAAIA,EAAKd,OAASW,EACTG,EAAKpB,MAAM,EAAGiB,GAAiB,MAEjCG,C,CAPTvB,OAAOiB,iBAAiB,mBAAoBI,GAC5CrB,OAAOiB,iBAAiB,SAAUI","sources":["src/js/home/popular/popularApi.js","src/js/home/popular/popularRender.js"],"sourcesContent":["import axios from 'axios';\nimport { createMarkupPopularRecipes } from './popularRender.js';\n\nconst popularRecipesUrl =\n  'https://tasty-treats-backend.p.goit.global/api/recipes/popular';\n\nconst container = document.querySelector('.popular-recipes-container');\n\nfunction updatePopularRecipes() {\n  axios\n    .get(popularRecipesUrl)\n    .then(response => {\n      const popularRecipes = response.data;\n      const numElements = window.innerWidth < 768 ? 2 : 4;\n      const slicedRecipes = popularRecipes.slice(0, numElements);\n      const markup = createMarkupPopularRecipes(slicedRecipes);\n      container.innerHTML = markup;\n    })\n    .catch(error => {\n      console.error('Error fetching popular recipes:', error);\n    });\n}\n\nwindow.addEventListener('resize', updatePopularRecipes);\nupdatePopularRecipes();\n","import { popularRecipesUrl } from './popularApi';\n\nconst descriptions = document.querySelectorAll('.card-description');\nlet maxCharacters = 80;\nlet maxCharactersTitle = 15;\n\nexport function createMarkupPopularRecipes(recipes) {\n  return recipes\n    .map(\n      recipe => `\n    <ul class=\"popular-recipe-list list\">\n      <li class=\"popular-recipe-item\">\n        <div class=\"popular-recipe-card\">\n          <img class=\"card-image\" src=\"${recipe.preview}\" alt=\"${recipe.title}\">\n          <div class=\"card-content\">\n            <h3 class=\"card-heading\">${truncateTitle(recipe.title)}</h3>\n            <p class=\"card-description\">${truncateText(recipe.description)}</p>\n          </div>\n        </div>\n      </li>\n    </ul>\n`\n    )\n    .join('');\n}\n\nfunction updateMaxCharacters() {\n  if (window.innerWidth < 768) {\n    maxCharacters = 110;\n  } else {\n    maxCharacters = 80;\n  }\n\n  descriptions.forEach(description => {\n    const text = description.textContent;\n    description.textContent = truncateText(text);\n  });\n}\n\nwindow.addEventListener('DOMContentLoaded', updateMaxCharacters);\nwindow.addEventListener('resize', updateMaxCharacters);\n\nfunction truncateText(text) {\n  if (text.length > maxCharacters) {\n    return text.slice(0, maxCharacters) + '...';\n  }\n  return text;\n}\n\nfunction truncateTitle(title) {\n  if (title.length > maxCharactersTitle) {\n    return title.slice(0, maxCharactersTitle) + '...';\n  }\n  return title;\n}\n"],"names":["$2shzp","parcelRequire","$fe1e0ab5fb46c76d$var$container","document","querySelector","$fe1e0ab5fb46c76d$var$updatePopularRecipes","default","get","then","response","popularRecipes","data","numElements","window","innerWidth","slicedRecipes","slice","markup","map","recipe","preview","title","length","$c0f4987da89fbfcb$var$truncateText","description","join","innerHTML","catch","error","console","addEventListener","$c0f4987da89fbfcb$var$descriptions","querySelectorAll","$c0f4987da89fbfcb$var$maxCharacters","$c0f4987da89fbfcb$var$updateMaxCharacters","forEach","text","textContent"],"version":3,"file":"index.861ef711.js.map"}
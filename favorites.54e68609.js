function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},s={},a=n.parcelRequire07b5;null==a&&((a=function(e){if(e in i)return i[e].exports;if(e in s){var t=s[e];delete s[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){s[e]=t},n.parcelRequire07b5=a),a.register("kyEFX",(function(t,n){var i,s;e(t.exports,"register",(function(){return i}),(function(e){return i=e})),e(t.exports,"resolve",(function(){return s}),(function(e){return s=e}));var a={};i=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},s=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a("kyEFX").register(JSON.parse('{"dFrGZ":"favorites.54e68609.js","lp5u4":"sprite.7aa8ebb7.svg","h5tdm":"favorites.a46b5b77.js"}'));const r=document.querySelector(".btn_scroll");let o=!1;function c(){window.pageYOffset>0?(window.scrollBy(0,-45),requestAnimationFrame(c)):o=!1}r.addEventListener("click",(function(){o||(o=!0,c())})),window.addEventListener("scroll",(function(){window.pageYOffset<=200&&window.pageYOffset>=0?r.style.opacity="0":r.style.opacity="1"}));const l={openModalButton:document.querySelector(".open-modal-button"),modulWindow:document.querySelector(".mobile-menu"),closeModalButton:document.querySelector(".close-modal-button"),navigationLinks:document.querySelectorAll(".header-navigation-list li a"),iconMoon:document.querySelectorAll(".icon-moon"),iconSun:document.querySelectorAll(".icon-sun"),switcher:document.querySelector(".switch"),sliderEl:document.querySelectorAll("input[type=checkbox]"),bodyEl:document.querySelector("body")};function d(){l.modulWindow.classList.toggle("is-visible"),l.modulWindow.classList.contains("is-visible")?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open")}l.openModalButton.addEventListener("click",d),l.closeModalButton.addEventListener("click",d),l.modulWindow.addEventListener("click",(e=>{e.target.closest(".mobile-menu-content")||d()}));const u=l.iconMoon,f=l.iconSun;document.addEventListener("DOMContentLoaded",(()=>{u.forEach(((e,t)=>{const n=f[t];l.sliderEl.forEach((t=>{t.addEventListener("change",(()=>{const i=t.checked;n.classList.toggle("visibility-hidden",i),e.classList.toggle("visibility-hidden",!i)}));const i=t.checked;n.classList.toggle("visibility-hidden",i),e.classList.toggle("visibility-hidden",!i)}))}))}));const v=window.location.pathname,g=Array.from(l.navigationLinks);function _(){"black"===localStorage.getItem("theme")?(localStorage.removeItem("theme"),l.sliderEl.forEach((e=>e.checked=!1))):(localStorage.setItem("theme","black"),l.sliderEl.forEach((e=>e.checked=!0))),p()}function p(){try{"black"===localStorage.getItem("theme")?l.bodyEl.classList.add("dark"):l.bodyEl.classList.remove("dark")}catch(e){}}g.some((e=>e.getAttribute("href")===v))?l.navigationLinks.forEach((e=>{e.getAttribute("href")===v?e.classList.add("current-link"):e.classList.remove("current-link")})):g.forEach((e=>{"Home"===e.textContent&&e.classList.add("current-link")})),window.onscroll=function(){var e;e=768,window.screen.width>=e&&(scrollY<=70?document.getElementById("header").classList.remove("header-scroll"):document.getElementById("header").classList.add("header-scroll"))},l.sliderEl.forEach((e=>{e.addEventListener("click",_)})),"black"===localStorage.getItem("theme")&&(p(),l.sliderEl.forEach((e=>e.checked=!0)));var m,y=a("2shzp");m=new URL(a("kyEFX").resolve("lp5u4"),import.meta.url).toString();var h=a("7Y9D8");const w=e=>`<div class='favorites__rating'>\n              <div class="favorites__rating-body">\n                <div class="favorites__rating-active"><div class='favorites__cards-rating'>${e}</div>${(e=>{const n=Math.round(e),i=`<svg class="favorites__star-active"><use href="${t(m)}#icon-star"></use></svg>`,s=`<svg class="favorites__star-notActive"><use href="${t(m)}#icon-star-grey"></use></svg>`;let a=[];for(let e=1;e<=5;e+=1)a.push(e>n?s:i);return a.join("")})(e)}</div>\n                <div class="favorites__rating-items">\n                  <input type="radio" class="favorites__rating-item" value="1" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="2" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="3" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="4" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="5" name="rating">\n                </div>\n              </div>\n  \n    </div>`,b=e=>{var n;return(n=e,n.map((({data:e})=>`\n        <li class="favorites__cards-item">\n        <button type="button" id="#${e._id}" class="icon-button" data-category="${e.category}" aria-label="Heart"><svg class="favorites__heart heart-isActive"><use href="${t(m)}#icon-heart"></use></svg></button>\n          <div class="favorit__img-thumb"><img src="${e.preview}" alt="${e.title}" width="335"></div>\n          <div class="favorites__cards-thumb">\n            <h2 class="favorites__cards-title">${e.title}</h2>\n            <p class="favorites__cards-text">${e.description}</p>\n            <div class="favorites__rating-thumb">\n              ${w(e.rating)}\n              <button class="favorites__cards-btn js-card-button" data-id="${e._id}">See recipe</button>\n            </div>\n          </div>\n        </li>`))).join("")},L=()=>`<svg class="favorites__empty-img">\n      <use href="${t(m)}#icon-elements"></use>\n    </svg>\n    <p class="favorites__text">It appears that you haven't added any recipes to your favorites yet. To get started, you can add recipes that you like to your favorites for easier access in the future.</p>`,S=e=>{try{const t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(e){console.error("Error while parsing local storage data:",e)}},E=()=>t(h).Report.failure("Error","Oops! Something went wrong! Try reloading the page!","OK"),k=async e=>{const t=e.map((async e=>{const t=await(async e=>{try{const t=await y.default.get(`https://tasty-treats-backend.p.goit.global/api/recipes/${e}`);if(404===t.status)throw new Error("Page not found error 404");return t}catch{E()}})(e);return t}));return await Promise.all(t)},M=async e=>{try{const t=(await k(e.map((e=>e.id)))).map((e=>e.data.category));return(e=>{const t=[];for(const n of e)t.includes(n)||t.push(n);const n=t.map((e=>`<li><button type="button" class="favorites__filter-btn">${e}</button></li>`));return n.unshift('<li><button type="button" class="favorites__filter-btn favorites__active-btn">All categories</button></li>'),n})(t).join("")}catch(e){console.log(e),E()}},H=async(e,t,n)=>{try{const i=await k(e.map((e=>e.id))),s=(t-1)*n,a=s+n,r=i.slice(s,a);return b(r)}catch(e){E(),console.log(e)}},$=document.querySelector(".favorites__empty"),q=document.querySelector(".favorites__img"),x=document.querySelector(".favorites__list-filter"),T=document.querySelector(".favorites__list-cards"),A=document.querySelector(".favorites__pagination"),I=(document.querySelector(".favorites__list-cards-thumb"),document.querySelector(".favorites__container-cards")),O=window.innerWidth;function j(e,n){let i="",s=null,a=n-1,r=n+1;i+=`<li class="favorites__pagination-item">\n    <div class="favorites__pag-container start-container">\n      <svg class="favorites__start-arrow-first">\n        <use href="${t(m)}#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__start-arrow-second">\n        <use href="${t(m)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container prew-container">\n      <svg class="favorites__prew-arrow">\n        <use href="${t(m)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>`,n>2&&(i+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),O>=768&&(n==e&&(a-=1),1==n&&(r+=1));for(let t=a;t<=r;t++)if(!(t>e)){if(O>=768)0==t&&(t+=1);else if(t<=0)continue;s=n==t?"favorites__active-btn":"",i+=`<li class="favorites__pagination-item ${s}">\n    <span class="favorites__pag-page">${t}</span>\n  </li>`}n<e-1&&(i+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),i+=`<li class="favorites__pagination-item">\n    <div class="favorites__pag-container next-container">\n      <svg class="favorites__next-arrow">\n        <use href="${t(m)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container end-container">\n      <svg class="favorites__end-arrow-first">\n        <use href="${t(m)}#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__end-arrow-second">\n        <use href="${t(m)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>`,A.innerHTML=i}const F=async(e,t,n,i)=>{let s=Number(localStorage.getItem("page"));if(s||(s=1),e.target.closest(".start-container")){s=1;const e=await H(t,s,n);T.innerHTML=e,j(i,s),localStorage.setItem("page",s)}if(e.target.closest(".favorites__prew-arrow")&&1!==s){s-=1;const e=await H(t,s,n);T.innerHTML=e,j(i,s),localStorage.setItem("page",s)}if(e.target.closest(".favorites__pag-page"))try{s=Number(e.target.textContent);const a=await H(t,s,n);T.innerHTML=a,j(i,s),localStorage.setItem("page",s)}catch(e){console.error("An error occurred:",e)}if(e.target.closest(".favorites__next-arrow")&&s!==i){s+=1;const e=await H(t,s,n);T.innerHTML=e,j(i,s),localStorage.setItem("page",s)}if(e.target.closest(".end-container")){s=i;const e=await H(t,s,n);T.innerHTML=e,j(i,s),localStorage.setItem("page",s)}};a("jyXRc"),a("6ic0E"),a("iFJJL");const C=window.innerWidth;let R=12;C<768&&(R=9);let B=S("favorites"),N=null;const W=()=>{T.innerHTML=`<li class="favorites__list-cards-thumb">${L()}</li>`,T.style.justifyContent="center"},J=async e=>{const t=e.target.closest(".icon-button");if(!t)return;const n=e.target.closest(".favorites__cards-item");if(n){n.classList.toggle("is-Hidden-F"),B=B.filter((e=>e.id!==t.id.slice(1)));const e=await M(B);x.innerHTML=e,N=Math.ceil(B.length/R);const i=await H(B,1,R);T.innerHTML=i,j(N,1),1===N&&(A.style.display="none"),0===B.length&&W()}const i=t.id.slice(1),s=t.getAttribute("data-category"),a=S("favorites")||[],r=a.findIndex((e=>e.id===i));-1!==r?a.splice(r,1):a.push({id:i,category:s}),localStorage.setItem("favorites",JSON.stringify(a));t.querySelector(".favorites__heart").classList.toggle("heart-isActive")};document.querySelector(".favorites__list-filter").addEventListener("click",(async e=>{const t=e.target;if("button"!==t.type)return;(e=>{if(e.classList.contains("favorites__filter-btn")){const t=document.querySelector(".favorites__active-btn");t&&t.classList.remove("favorites__active-btn"),e.classList.add("favorites__active-btn")}})(t);let n=B;if("All categories"!==t.textContent&&(n=B.filter((e=>e.category===t.textContent))),console.log(n),0!==n.length){localStorage.setItem("page",1),N=Math.ceil(n.length/R),A.style.display=N>1?"flex":"none",j(N,1);const e=await H(n,1,R);T.innerHTML=e,T.style.justifyContent="start"}else W();return 1})),A.addEventListener("click",(e=>{F(e,B,R,N)})),(async()=>{if(A.style.display="none",B=S("favorites")||[],C<768&&0===B.length&&(T.style.minHeight="100hv"),0===B.length)return C<768&&(q.style.display="none"),(e=$).classList.add("empty"),e.insertAdjacentHTML("beforeend",L()),void I.classList.toggle("is-Hidden-F");var e;q.style.display="block",N=Math.ceil(B.length/R);const t=await M(B);if(!t)return x.style.display="none",void(T.innerHTML='\n    <li class="error-message"><h2>Error</h2>\n    <p>Oops! Something went wrong! Try reloading the page!</p></li>');const n=await H(B,1,R);x.innerHTML=t,T.innerHTML=n,N>1&&(A.style.display="flex",j(N,1)),T.addEventListener("click",J)})(),window.addEventListener("beforeunload",(()=>{localStorage.removeItem("page")}));
//# sourceMappingURL=favorites.54e68609.js.map

function t(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},i=n.parcelRequire07b5;null==i&&((i=function(t){if(t in r)return r[t].exports;if(t in a){var e=a[t];delete a[t];var n={id:t,exports:{}};return r[t]=n,e.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){a[t]=e},n.parcelRequire07b5=i),i.register("kyEFX",(function(e,n){var r,a;t(e.exports,"register",(function(){return r}),(function(t){return r=t})),t(e.exports,"resolve",(function(){return a}),(function(t){return a=t}));var i={};r=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)i[e[n]]=t[e[n]]},a=function(t){var e=i[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),i("kyEFX").register(JSON.parse('{"dFrGZ":"favorites.a4a337d7.js","lp5u4":"sprite.cde4e078.svg","caW06":"elements.5eac9335.jpg","h5tdm":"favorites.b4e2c1ae.js"}'));var s=i("2shzp");const o=async t=>{const e=t.map((async t=>{const e=await(async t=>{try{const e=await s.default.get(`https://tasty-treats-backend.p.goit.global/api/recipes/${t}`);if(404===e.status)throw new Error("Page not found error 404");return e}catch{throw new Error("an error occurred while fetching the images from the API")}})(t);return e}));return await Promise.all(e)};var c;c=new URL(i("kyEFX").resolve("lp5u4"),import.meta.url).toString();const l=t=>`<div class='rating'>\n              <div class="rating__body">\n                <div class="rating__active"><div class='favorites__cards-rating'>${t}</div>${(t=>{const n=Math.round(t),r=`<svg class="favorites__star-active"><use href="${e(c)}#icon-star"></use></svg>`,a=`<svg class="favorites__star-notActive"><use href="${e(c)}#icon-star-grey"></use></svg>`;let i=[];for(let t=1;t<=5;t+=1)i.push(t>n?a:r);return i.join("")})(t)}</div>\n                <div class="rating__items">\n                  <input type="radio" class="rating__item" value="1" name="rating">\n                  <input type="radio" class="rating__item" value="2" name="rating">\n                  <input type="radio" class="rating__item" value="3" name="rating">\n                  <input type="radio" class="rating__item" value="4" name="rating">\n                  <input type="radio" class="rating__item" value="5" name="rating">\n                </div>\n              </div>\n  \n    </div>`,u=t=>{var n;return(n=t,n.map((({data:t})=>`\n        <li class="favorites__cards-item">\n        <button type="button" id="#${t._id}" class="icon-button" data-category="${t.category}"><svg class="favorites__heart heart-isActive"><use href="${e(c)}#icon-heart"></use></svg></button>\n          <img src="${t.preview}" alt="${t.title}" width="335">\n          <div class="favorites__cards-thumb">\n            <h2 class="favorites__cards-title">${t.title}</h2>\n            <p class="favorites__cards-text">${t.description}</p>\n            <div class="favorites__rating-thumb">\n              ${l(t.rating)}\n              <button class="favorites__cards-btn">See recipe</button>\n            </div>\n          </div>\n        </li>`))).join("")},d=async t=>{try{const e=(await o(t.map((t=>t.id)))).map((t=>t.data.category));return(t=>{const e=[];for(const n of t)e.includes(n)||e.push(n);const n=e.map((t=>`<li><button type="button" class="favorites__filter-btn">${t}</button></li>`));return n.unshift('<li><button type="button" class="favorites__filter-btn favorites__active-btn">All categories</button></li>'),n})(e).join("")}catch(t){console.log(t)}},f=async(t,e,n)=>{try{const r=await o(t.map((t=>t.id))),a=(e-1)*n,i=a+n,s=r.slice(a,i);return u(s)}catch(t){console.log(t)}};var v;v=new URL(i("kyEFX").resolve("caW06"),import.meta.url).toString();const g=t=>{t.classList.add("empty"),t.insertAdjacentHTML("beforeend",`\n    <img src="${e(v)}" alt="chef's hat">\n    <p class="favorites__text">It appears that you haven't added any recipes to your favorites yet. To get started, you can add recipes that you like to your favorites for easier access in the future.</p>`)},_=t=>JSON.parse(localStorage.getItem(t)),p=document.querySelector(".favorites__empty"),y=(document.querySelector(".favorites__img"),document.querySelector(".favorites__list-filter")),b=document.querySelector(".favorites__list-cards"),h=document.querySelector(".pagination-bar"),m=t=>{const e=[];for(let n=1;n<=t;n+=1)e.push(w(n));return e},w=t=>`<div class="pag-btn-block pag-btn-block-container"><button id="pag-btn-1" class="pag-btn-white pag-btn-number" type="button" aria-label="page 1">${t}</button></div>`;let S=1;const L=async t=>{const e=t.target;(t=>{if(t.classList.contains("favorites__filter-btn")){const e=document.querySelector(".favorites__filter-btn.favorites__active-btn");e&&e.classList.remove("favorites__active-btn"),t.classList.add("favorites__active-btn")}})(e);const n=_("favorites");if("All categories"===e.textContent){S=1;const t=Math.ceil(n.length/12);E(t);const e=await f(n,S,12);return void(b.innerHTML=e)}const r=n.filter((t=>t.category===e.textContent));if(0!==r.length){S=1;const t=Math.ceil(r.length/12);E(t);const e=await f(r,S,12);b.innerHTML=e}},E=t=>{if(1===t)return void(h.style.display="none");const e=m(t);h.firstElementChild.innerHTML=e.join(""),h.style.display="flex"},H=t=>{const e=t.target.closest(".icon-button");if(e){const t=e.id.slice(1),n=e.getAttribute("data-category"),r=_("favorites");let a=[];r&&(a=r);const i=a.findIndex((e=>e.id===t));-1!==i?a.splice(i,1):a.push({id:t,category:n}),localStorage.setItem("favorites",JSON.stringify(a));e.querySelector(".favorites__heart").classList.toggle("heart-isActive")}};b.addEventListener("click",L),h.addEventListener("click",(async t=>{if(t.target.classList.contains("pag-btn-number")){S=Number(t.target.textContent);const e=_("favorites");console.log(e);const n=await f(e,S,12);b.innerHTML=n}}));(async()=>{const t=_("favorites");if(h.style.display="none",!t||0===t.length)return void g(p);const e=await d(t),n=await f(t,1,12);y.innerHTML=e,b.innerHTML=n;const r=document.querySelector(".favorites__list-cards"),a=t.length;if(a<12)h.style.display="none";else{const t=m(a);document.querySelector(".pagination-bar").firstElementChild.insertAdjacentHTML("beforeend",t.join("")),h.style.display="flex"}r.addEventListener("click",H);document.querySelector(".favorites__list-filter").addEventListener("click",L)})();
//# sourceMappingURL=favorites.a4a337d7.js.map

!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},s=r.parcelRequire07b5;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},r.parcelRequire07b5=s),s.register("iE7OH",(function(t,r){var n,a;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var s={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)s[t[r]]=e[t[r]]},a=function(e){var t=s[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s.register("aNJCr",(function(t,r){var n;e(t.exports,"getBundleURL",(function(){return n}),(function(e){return n=e}));var a={};function s(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(e){var t=a[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return s(e[2])}return"/"}(),a[e]=t),t}})),s("iE7OH").register(JSON.parse('{"i4hX4":"favorites.370608e8.js","ee16w":"sprite.7aa8ebb7.svg","gt5lo":"favorites.4b3addd2.js"}'));var i=s("bpxeT"),o=s("2TvXO");s("bWgPh"),s("24cCg");i=s("bpxeT"),o=s("2TvXO"),i=s("bpxeT"),o=s("2TvXO");var c,u,l,f=s("dIxxU"),v=(c=t(i)(t(o).mark((function e(r){var n;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.default.get("".concat("https://tasty-treats-backend.p.goit.global/api/recipes/").concat(r));case 3:if(404!==(n=e.sent).status){e.next=6;break}throw new Error("Page not found error 404");case 6:return e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),new Error("an error occurred while fetching the images from the API");case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return c.apply(this,arguments)}),p=(u=t(i)(t(o).mark((function e(r){var n,a;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.map(function(){var e=t(i)(t(o).mark((function e(r){var n;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)});l=s("aNJCr").getBundleURL("i4hX4")+s("iE7OH").resolve("ee16w");var g=function(e){return"<div class='favorites__rating'>\n              <div class=\"favorites__rating-body\">\n                <div class=\"favorites__rating-active\"><div class='favorites__cards-rating'>".concat(e,"</div>").concat(function(e){for(var r=Math.round(e),n='<svg class="favorites__star-active"><use href="'.concat(t(l),'#icon-star"></use></svg>'),a='<svg class="favorites__star-notActive"><use href="'.concat(t(l),'#icon-star-grey"></use></svg>'),s=[],i=1;i<=5;i+=1)s.push(i>r?a:n);return s.join("")}(e),'</div>\n                <div class="favorites__rating-items">\n                  <input type="radio" class="favorites__rating-item" value="1" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="2" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="3" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="4" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="5" name="rating">\n                </div>\n              </div>\n  \n    </div>')},d=function(e){var r;return(r=e,r.map((function(e){var r=e.data;return'\n        <li class="favorites__cards-item">\n        <button type="button" id="#'.concat(r._id,'" class="icon-button" data-category="').concat(r.category,'"><svg class="favorites__heart heart-isActive"><use href="').concat(t(l),'#icon-heart"></use></svg></button>\n          <img src="').concat(r.preview,'" alt="').concat(r.title,'" width="335">\n          <div class="favorites__cards-thumb">\n            <h2 class="favorites__cards-title">').concat(r.title,'</h2>\n            <p class="favorites__cards-text">').concat(r.description,'</p>\n            <div class="favorites__rating-thumb">\n              ').concat(g(r.rating),'\n              <button class="favorites__cards-btn" data-id="').concat(r._id,'">See recipe</button>\n            </div>\n          </div>\n        </li>')}))).join("")},_=function(){return'<svg class="favorites__empty-img">\n      <use href="'.concat(t(l),'#icon-elements"></use>\n    </svg>\n    <p class="favorites__text">').concat("It appears that you haven't added any recipes to your favorites yet. To get started, you can add recipes that you like to your favorites for easier access in the future.","</p>")},h=function(e){try{var t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(e){console.error("Error while parsing local storage data:",e)}},m=function(e){return function(e){var t=[],r=!0,n=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var o=s.value;t.includes(o)||t.push(o)}}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}var c=t.map((function(e){return'<li><button type="button" class="favorites__filter-btn">'.concat(e,"</button></li>")}));return c.unshift('<li><button type="button" class="favorites__filter-btn favorites__active-btn">All categories</button></li>'),c}(e).join("")},b=function(){var e=t(i)(t(o).mark((function e(r){var n,a,s;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(r.map((function(e){return e.id})));case 3:return n=e.sent,a=n.map((function(e){return e.data.category})),s=m(a),e.abrupt("return",s);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=t(i)(t(o).mark((function e(r,n,a){var s,i,c,u,l;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(r.map((function(e){return e.id})));case 3:return s=e.sent,c=(i=(n-1)*a)+a,u=s.slice(i,c),l=d(u),e.abrupt("return",l);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r,n){return e.apply(this,arguments)}}(),w=(i=s("bpxeT"),o=s("2TvXO"),document.querySelector(".favorites__empty")),x=document.querySelector(".favorites__img"),S=document.querySelector(".favorites__list-filter"),k=document.querySelector(".favorites__list-cards"),L=document.querySelector(".favorites__pagination"),T=(document.querySelector(".favorites__list-cards-thumb"),window.innerWidth);function H(e,r){var n="",a=r-1,s=r+1;n+='<li class="favorites__pagination-item">\n    <div class="favorites__pag-container start-container">\n      <svg class="favorites__start-arrow-first">\n        <use href="'.concat(t(l),'#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__start-arrow-second">\n        <use href="').concat(t(l),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container prew-container">\n      <svg class="favorites__prew-arrow">\n        <use href="').concat(t(l),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>'),r>2&&(n+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),T>=768&&(r==e&&(a-=1),1==r&&(s+=1));for(var i=a;i<=s;i++)if(!(i>e)){if(T>=768)0==i&&(i+=1);else if(i<=0)continue;n+='<li class="favorites__pagination-item '.concat(r==i?"favorites__active-btn":"",'">\n    <span class="favorites__pag-page">').concat(i,"</span>\n  </li>")}r<e-1&&(n+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),n+='<li class="favorites__pagination-item">\n    <div class="favorites__pag-container next-container">\n      <svg class="favorites__next-arrow">\n        <use href="'.concat(t(l),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container end-container">\n      <svg class="favorites__end-arrow-first">\n        <use href="').concat(t(l),'#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__end-arrow-second">\n        <use href="').concat(t(l),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>'),L.innerHTML=n}var E=function(){var e=t(i)(t(o).mark((function e(r,n,a,s){var i,c,u,l,f;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(page=Number(localStorage.getItem("page")),page||(page=1),!r.target.closest(".start-container")){e.next=11;break}return page=1,e.next=6,y(n,page,a);case 6:return i=e.sent,k.innerHTML=i,H(s,page),localStorage.setItem("page",page),e.abrupt("return",page);case 11:if(!r.target.closest(".favorites__prew-arrow")){e.next=21;break}if(1===page){e.next=21;break}return page-=1,e.next=16,y(n,page,a);case 16:return c=e.sent,k.innerHTML=c,H(s,page),localStorage.setItem("page",page),e.abrupt("return",page);case 21:if(!r.target.closest(".favorites__pag-page")){e.next=36;break}return e.prev=22,page=Number(r.target.textContent),e.next=26,y(n,page,a);case 26:return u=e.sent,k.innerHTML=u,H(s,page),localStorage.setItem("page",page),e.abrupt("return",page);case 33:e.prev=33,e.t0=e.catch(22),console.error("An error occurred:",e.t0);case 36:if(!r.target.closest(".favorites__next-arrow")){e.next=47;break}if(page===s){e.next=46;break}return page+=1,e.next=41,y(n,page,a);case 41:l=e.sent,k.innerHTML=l,H(s,page),console.log(page),localStorage.setItem("page",page);case 46:return e.abrupt("return",page);case 47:if(!r.target.closest(".end-container")){e.next=56;break}return page=s,e.next=51,y(n,page,a);case 51:return f=e.sent,k.innerHTML=f,H(s,page),localStorage.setItem("page",page),e.abrupt("return",page);case 56:case"end":return e.stop()}}),e,null,[[22,33]])})));return function(t,r,n,a){return e.apply(this,arguments)}}();s("axyAW"),s("8rl3z"),s("62eWH");var M=window.innerWidth,O=9;M>768&&(O=12);var I=null,A=null,q=function(e){if(e.classList.contains("favorites__filter-btn")){var t=document.querySelector(".favorites__active-btn");t&&t.classList.remove("favorites__active-btn"),e.classList.add("favorites__active-btn")}},j=function(e){var t=e.target.closest(".icon-button");if(t){e.target.closest(".favorites__cards-item").style.display="none";var r=t.id.slice(1),n=t.getAttribute("data-category"),a=h("favorites")||[],s=a.findIndex((function(e){return e.id===r}));-1!==s?a.splice(s,1):a.push({id:r,category:n}),localStorage.setItem("favorites",JSON.stringify(a)),t.querySelector(".favorites__heart").classList.toggle("heart-isActive")}},C=function(){var e=t(i)(t(o).mark((function e(r){var n,a,s;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.target,q(n),I=h("favorites"),a=I,"All categories"!==n.textContent&&(a=I.filter((function(e){return e.category===n.textContent}))),0===a.length){e.next=19;break}return localStorage.setItem("page",1),I=a,A=Math.ceil(a.length/O),L.style.display=A>1?"flex":"none",H(A,1),e.next=13,y(a,1,O);case 13:return s=e.sent,k.innerHTML=s,k.style.justifyContent="start",e.abrupt("return",1);case 19:k.innerHTML='<li class="favorites__list-cards-thumb">'.concat(_(),"</li>"),k.style.justifyContent="center";case 20:return e.abrupt("return",1);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=t(i)(t(o).mark((function e(){var r,n;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L.style.display="none",0!==(I=h("favorites")||[]).length){e.next=6;break}return M<768&&(x.style.display="none"),(t=w).classList.add("empty"),t.insertAdjacentHTML("beforeend",_()),e.abrupt("return");case 6:return x.style.display="block",A=Math.ceil(I.length/O),e.next=10,b(I);case 10:return r=e.sent,e.next=13,y(I,1,O);case 13:n=e.sent,S.innerHTML=r,k.innerHTML=n,A>1&&(L.style.display="flex",H(A,1)),k.addEventListener("click",j);case 18:case"end":return e.stop()}var t}),e)})));return function(){return e.apply(this,arguments)}}();document.querySelector(".favorites__list-filter").addEventListener("click",C),L.addEventListener("click",(function(e){E(e,I,O,A)})),N(),window.addEventListener("beforeunload",(function(){localStorage.removeItem("page")}))}();
//# sourceMappingURL=favorites.370608e8.js.map

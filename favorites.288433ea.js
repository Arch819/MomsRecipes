function t(t,e,r,n){Object.defineProperty(t,e,{get:r,set:n,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},a=r.parcelRequire07b5;null==a&&((a=function(t){if(t in n)return n[t].exports;if(t in i){var e=i[t];delete i[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){i[t]=e},r.parcelRequire07b5=a),a.register("kyEFX",(function(e,r){var n,i;t(e.exports,"register",(function(){return n}),(function(t){return n=t})),t(e.exports,"resolve",(function(){return i}),(function(t){return i=t}));var a={};n=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)a[e[r]]=t[e[r]]},i=function(t){var e=a[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),a("kyEFX").register(JSON.parse('{"dFrGZ":"favorites.288433ea.js","lp5u4":"sprite.7aa8ebb7.svg","caW06":"elements.5eac9335.jpg","h5tdm":"favorites.9e54f20f.js"}')),a("7Th1V"),a("imn7x");var s=a("2shzp");const o=async t=>{const e=t.map((async t=>{const e=await(async t=>{try{const e=await s.default.get(`https://tasty-treats-backend.p.goit.global/api/recipes/${t}`);if(404===e.status)throw new Error("Page not found error 404");return e}catch{throw new Error("an error occurred while fetching the images from the API")}})(t);return e}));return await Promise.all(e)};var c;c=new URL(a("kyEFX").resolve("lp5u4"),import.meta.url).toString();const l=t=>`<div class='favorites__rating'>\n              <div class="favorites__rating-body">\n                <div class="favorites__rating-active"><div class='favorites__cards-rating'>${t}</div>${(t=>{const r=Math.round(t),n=`<svg class="favorites__star-active"><use href="${e(c)}#icon-star"></use></svg>`,i=`<svg class="favorites__star-notActive"><use href="${e(c)}#icon-star-grey"></use></svg>`;let a=[];for(let t=1;t<=5;t+=1)a.push(t>r?i:n);return a.join("")})(t)}</div>\n                <div class="favorites__rating-items">\n                  <input type="radio" class="favorites__rating-item" value="1" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="2" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="3" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="4" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="5" name="rating">\n                </div>\n              </div>\n  \n    </div>`,u=t=>{var r;return(r=t,r.map((({data:t})=>`\n        <li class="favorites__cards-item">\n        <button type="button" id="#${t._id}" class="icon-button" data-category="${t.category}"><svg class="favorites__heart heart-isActive"><use href="${e(c)}#icon-heart"></use></svg></button>\n          <img src="${t.preview}" alt="${t.title}" width="335">\n          <div class="favorites__cards-thumb">\n            <h2 class="favorites__cards-title">${t.title}</h2>\n            <p class="favorites__cards-text">${t.description}</p>\n            <div class="favorites__rating-thumb">\n              ${l(t.rating)}\n              <button class="favorites__cards-btn">See recipe</button>\n            </div>\n          </div>\n        </li>`))).join("")},d=async t=>{try{const e=(await o(t.map((t=>t.id)))).map((t=>t.data.category));return(t=>{const e=[];for(const r of t)e.includes(r)||e.push(r);const r=e.map((t=>`<li><button type="button" class="favorites__filter-btn">${t}</button></li>`));return r.unshift('<li><button type="button" class="favorites__filter-btn favorites__active-btn">All categories</button></li>'),r})(e).join("")}catch(t){console.log(t)}},f=async(t,e,r)=>{try{const n=await o(t.map((t=>t.id))),i=(e-1)*r,a=i+r,s=n.slice(i,a);return u(s)}catch(t){console.log(t)}};var v;v=new URL(a("kyEFX").resolve("caW06"),import.meta.url).toString();const _=()=>`\n    <img src="${e(v)}" class="favorites__empty-img" alt="chef's hat">\n    <p class="favorites__text">It appears that you haven't added any recipes to your favorites yet. To get started, you can add recipes that you like to your favorites for easier access in the future.</p>`,g=t=>JSON.parse(localStorage.getItem(t)),p=document.querySelector(".favorites__empty"),y=(document.querySelector(".favorites__img"),document.querySelector(".favorites__list-filter")),b=document.querySelector(".favorites__list-cards"),m=document.querySelector(".pagination-bar"),h=(document.querySelector(".favorites__list-cards-thumb"),t=>{const e=[];for(let r=1;r<=t;r+=1)e.push(w(r));return e}),w=t=>`<div class="pag-btn-block pag-btn-block-container"><button id="pag-btn-1" class="pag-btn-white pag-btn-number" type="button" aria-label="page 1">${t}</button></div>`;let S=1;const L=async t=>{const e=t.target;(t=>{if(t.classList.contains("favorites__filter-btn")){const e=document.querySelector(".favorites__filter-btn.favorites__active-btn");e&&e.classList.remove("favorites__active-btn"),t.classList.add("favorites__active-btn")}})(e);const r=g("favorites");if("All categories"===e.textContent){S=1;const t=Math.ceil(r.length/12);E(t);const e=await f(r,S,12);return void(b.innerHTML=e)}const n=r.filter((t=>t.category===e.textContent));if(0!==n.length){S=1;const t=Math.ceil(n.length/12);E(t);const e=await f(n,S,12);b.style.justifyContent="start",b.innerHTML=e}else b.style.justifyContent="center",b.innerHTML=`<li class="favorites__list-cards-thumb">${_()}</li>`},E=t=>{if(1===t)return void(m.style.display="none");const e=h(t);m.firstElementChild.innerHTML=e.join(""),m.style.display="flex"},$=t=>{const e=t.target.closest(".icon-button");if(e){const t=e.id.slice(1),r=e.getAttribute("data-category"),n=g("favorites");let i=[];n&&(i=n);const a=i.findIndex((e=>e.id===t));-1!==a?i.splice(a,1):i.push({id:t,category:r}),localStorage.setItem("favorites",JSON.stringify(i));e.querySelector(".favorites__heart").classList.toggle("heart-isActive")}};a("jyXRc"),a("6ic0E"),a("91ATz"),a("iFJJL");(async()=>{const t=g("favorites");if(m.style.display="none",!t||0===t.length)return(e=p).classList.add("empty"),void e.insertAdjacentHTML("beforeend",_());var e;const r=await d(t),n=await f(t,1,12);y.innerHTML=r,b.innerHTML=n;const i=document.querySelector(".favorites__list-cards"),a=t.length;if(a<12)m.style.display="none";else{const t=h(a);document.querySelector(".pagination-bar").firstElementChild.insertAdjacentHTML("beforeend",t.join("")),m.style.display="flex"}i.addEventListener("click",$);document.querySelector(".favorites__list-filter").addEventListener("click",L)})();
//# sourceMappingURL=favorites.288433ea.js.map

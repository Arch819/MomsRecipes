function e(e,t,a,r){Object.defineProperty(e,t,{get:a,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},s=a.parcelRequire07b5;null==s&&((s=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},a.parcelRequire07b5=s),s.register("kyEFX",(function(t,a){var r,n;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return n}),(function(e){return n=e}));var s={};r=function(e){for(var t=Object.keys(e),a=0;a<t.length;a++)s[t[a]]=e[t[a]]},n=function(e){var t=s[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s("kyEFX").register(JSON.parse('{"dFrGZ":"favorites.8ba05d81.js","lp5u4":"sprite.7aa8ebb7.svg","caW06":"elements.5eac9335.jpg","h5tdm":"favorites.ec35c41e.js"}')),s("7Th1V"),s("imn7x");var i=s("2shzp");const o=async e=>{const t=e.map((async e=>{const t=await(async e=>{try{const t=await i.default.get(`https://tasty-treats-backend.p.goit.global/api/recipes/${e}`);if(404===t.status)throw new Error("Page not found error 404");return t}catch{throw new Error("an error occurred while fetching the images from the API")}})(e);return t}));return await Promise.all(t)};var c;c=new URL(s("kyEFX").resolve("lp5u4"),import.meta.url).toString();var l;l=new URL(s("kyEFX").resolve("caW06"),import.meta.url).toString();const g=e=>`<div class='favorites__rating'>\n              <div class="favorites__rating-body">\n                <div class="favorites__rating-active"><div class='favorites__cards-rating'>${e}</div>${(e=>{const a=Math.round(e),r=`<svg class="favorites__star-active"><use href="${t(c)}#icon-star"></use></svg>`,n=`<svg class="favorites__star-notActive"><use href="${t(c)}#icon-star-grey"></use></svg>`;let s=[];for(let e=1;e<=5;e+=1)s.push(e>a?n:r);return s.join("")})(e)}</div>\n                <div class="favorites__rating-items">\n                  <input type="radio" class="favorites__rating-item" value="1" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="2" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="3" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="4" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="5" name="rating">\n                </div>\n              </div>\n  \n    </div>`,f=e=>{var a;return(a=e,a.map((({data:e})=>`\n        <li class="favorites__cards-item">\n        <button type="button" id="#${e._id}" class="icon-button" data-category="${e.category}"><svg class="favorites__heart heart-isActive"><use href="${t(c)}#icon-heart"></use></svg></button>\n          <img src="${e.preview}" alt="${e.title}" width="335">\n          <div class="favorites__cards-thumb">\n            <h2 class="favorites__cards-title">${e.title}</h2>\n            <p class="favorites__cards-text">${e.description}</p>\n            <div class="favorites__rating-thumb">\n              ${g(e.rating)}\n              <button class="favorites__cards-btn">See recipe</button>\n            </div>\n          </div>\n        </li>`))).join("")},v=()=>`\n    <img src="${t(l)}" class="favorites__empty-img" alt="chef's hat">\n    <p class="favorites__text">It appears that you haven't added any recipes to your favorites yet. To get started, you can add recipes that you like to your favorites for easier access in the future.</p>`,u=e=>{try{const t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(e){console.error("Error while parsing local storage data:",e)}},d=async e=>{try{const t=(await o(e.map((e=>e.id)))).map((e=>e.data.category));return(e=>{const t=[];for(const a of e)t.includes(a)||t.push(a);const a=t.map((e=>`<li><button type="button" class="favorites__filter-btn">${e}</button></li>`));return a.unshift('<li><button type="button" class="favorites__filter-btn favorites__active-btn">All categories</button></li>'),a})(t).join("")}catch(e){console.log(e)}},p=async(e,t,a)=>{try{const r=await o(e.map((e=>e.id))),n=(t-1)*a,s=n+a,i=r.slice(n,s);return f(i)}catch(e){console.log(e)}},_=document.querySelector(".favorites__empty"),m=(document.querySelector(".favorites__img"),document.querySelector(".favorites__list-filter")),y=document.querySelector(".favorites__list-cards"),h=document.querySelector(".favorites__pagination"),w=(document.querySelector(".favorites__list-cards-thumb"),window.innerWidth);function b(e,a){let r="",n=null,s=a-1,i=a+1;r+=`<li class="favorites__pagination-item">\n    <div class="favorites__pag-container start-container">\n      <svg class="favorites__start-arrow-first">\n        <use href="${t(c)}#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__start-arrow-second">\n        <use href="${t(c)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container prew-container">\n      <svg class="favorites__prew-arrow">\n        <use href="${t(c)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>`,a>2&&(r+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),w>=768&&(a==e&&(s-=1),1==a&&(i+=1));for(let t=s;t<=i;t++)if(!(t>e)){if(w>=768)0==t&&(t+=1);else if(t<=0)continue;n=a==t?"favorites__active-btn":"",r+=`<li class="favorites__pagination-item ${n}">\n    <span class="favorites__pag-page">${t}</span>\n  </li>`}a<e-1&&(r+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),r+=`<li class="favorites__pagination-item">\n    <div class="favorites__pag-container next-container">\n      <svg class="favorites__next-arrow">\n        <use href="${t(c)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container end-container">\n      <svg class="favorites__end-arrow-first">\n        <use href="${t(c)}#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__end-arrow-second">\n        <use href="${t(c)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>`,h.innerHTML=r}const S=async(e,t,a,r)=>{if(page=Number(localStorage.getItem("page")),page||(page=1),e.target.closest(".start-container")){page=1;const e=await p(t,page,a);return y.innerHTML=e,b(r,page),localStorage.setItem("page",page),page}if(e.target.closest(".favorites__prew-arrow")&&1!==page){page-=1;const e=await p(t,page,a);return y.innerHTML=e,b(r,page),localStorage.setItem("page",page),page}if(e.target.closest(".favorites__pag-page"))try{page=Number(e.target.textContent);const n=await p(t,page,a);return y.innerHTML=n,b(r,page),localStorage.setItem("page",page),page}catch(e){console.error("An error occurred:",e)}if(e.target.closest(".favorites__next-arrow")){if(page!==r){page+=1;const e=await p(t,page,a);y.innerHTML=e,b(r,page),console.log(page),localStorage.setItem("page",page)}return page}if(e.target.closest(".end-container")){page=r;const e=await p(t,page,a);return y.innerHTML=e,b(r,page),localStorage.setItem("page",page),page}};s("jyXRc"),s("6ic0E"),s("iFJJL");let L=9;window.innerWidth>768&&(L=12);let $=null,x=null;const E=e=>{const t=e.target.closest(".icon-button");if(!t)return;const a=t.id.slice(1),r=t.getAttribute("data-category"),n=u("favorites")||[],s=n.findIndex((e=>e.id===a));-1!==s?n.splice(s,1):n.push({id:a,category:r}),localStorage.setItem("favorites",JSON.stringify(n));t.querySelector(".favorites__heart").classList.toggle("heart-isActive")};document.querySelector(".favorites__list-filter").addEventListener("click",(async e=>{const t=e.target;(e=>{if(e.classList.contains("favorites__filter-btn")){const t=document.querySelector(".favorites__active-btn");t&&t.classList.remove("favorites__active-btn"),e.classList.add("favorites__active-btn")}})(t),$=u("favorites");let a=$;if("All categories"!==t.textContent&&(a=$.filter((e=>e.category===t.textContent))),0!==a.length){localStorage.setItem("page",1),$=a,x=Math.ceil(a.length/L),h.style.display=x>1?"flex":"none",b(x,1);const e=await p(a,1,L);return y.innerHTML=e,1}return y.innerHTML=`<li class="favorites__list-cards-thumb">${v()}</li>`,1})),h.addEventListener("click",(e=>{S(e,$,L,x)})),(async()=>{if(h.style.display="none",$=u("favorites")||[],0===$.length)return(e=_).classList.add("empty"),void e.insertAdjacentHTML("beforeend",v());var e;x=Math.ceil($.length/L);const t=await d($),a=await p($,1,L);m.innerHTML=t,y.innerHTML=a,x>1&&(h.style.display="flex",b(x,1)),y.addEventListener("click",E)})(),window.addEventListener("beforeunload",(()=>{localStorage.removeItem("page")}));
//# sourceMappingURL=favorites.8ba05d81.js.map

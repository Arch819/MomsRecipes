function t(t,e,r,a){Object.defineProperty(t,e,{get:r,set:a,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},s={},n=r.parcelRequire07b5;null==n&&((n=function(t){if(t in a)return a[t].exports;if(t in s){var e=s[t];delete s[t];var r={id:t,exports:{}};return a[t]=r,e.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(t,e){s[t]=e},r.parcelRequire07b5=n),n.register("kyEFX",(function(e,r){var a,s;t(e.exports,"register",(function(){return a}),(function(t){return a=t})),t(e.exports,"resolve",(function(){return s}),(function(t){return s=t}));var n={};a=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)n[e[r]]=t[e[r]]},s=function(t){var e=n[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),n("kyEFX").register(JSON.parse('{"dFrGZ":"favorites.47f6d067.js","lp5u4":"sprite.7aa8ebb7.svg","caW06":"elements.5eac9335.jpg","h5tdm":"favorites.ec35c41e.js"}')),n("7Th1V"),n("imn7x");var i=n("2shzp");const o=async t=>{const e=t.map((async t=>{const e=await(async t=>{try{const e=await i.default.get(`https://tasty-treats-backend.p.goit.global/api/recipes/${t}`);if(404===e.status)throw new Error("Page not found error 404");return e}catch{throw new Error("an error occurred while fetching the images from the API")}})(t);return e}));return await Promise.all(e)};var c;c=new URL(n("kyEFX").resolve("lp5u4"),import.meta.url).toString();var l;l=new URL(n("kyEFX").resolve("caW06"),import.meta.url).toString();const f=t=>`<div class='favorites__rating'>\n              <div class="favorites__rating-body">\n                <div class="favorites__rating-active"><div class='favorites__cards-rating'>${t}</div>${(t=>{const r=Math.round(t),a=`<svg class="favorites__star-active"><use href="${e(c)}#icon-star"></use></svg>`,s=`<svg class="favorites__star-notActive"><use href="${e(c)}#icon-star-grey"></use></svg>`;let n=[];for(let t=1;t<=5;t+=1)n.push(t>r?s:a);return n.join("")})(t)}</div>\n                <div class="favorites__rating-items">\n                  <input type="radio" class="favorites__rating-item" value="1" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="2" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="3" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="4" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="5" name="rating">\n                </div>\n              </div>\n  \n    </div>`,v=t=>{var r;return(r=t,r.map((({data:t})=>`\n        <li class="favorites__cards-item">\n        <button type="button" id="#${t._id}" class="icon-button" data-category="${t.category}"><svg class="favorites__heart heart-isActive"><use href="${e(c)}#icon-heart"></use></svg></button>\n          <img src="${t.preview}" alt="${t.title}" width="335">\n          <div class="favorites__cards-thumb">\n            <h2 class="favorites__cards-title">${t.title}</h2>\n            <p class="favorites__cards-text">${t.description}</p>\n            <div class="favorites__rating-thumb">\n              ${f(t.rating)}\n              <button class="favorites__cards-btn">See recipe</button>\n            </div>\n          </div>\n        </li>`))).join("")},u=()=>`\n    <img src="${e(l)}" class="favorites__empty-img" alt="chef's hat">\n    <p class="favorites__text">It appears that you haven't added any recipes to your favorites yet. To get started, you can add recipes that you like to your favorites for easier access in the future.</p>`,_=t=>JSON.parse(localStorage.getItem(t)),d=async t=>{try{const e=(await o(t.map((t=>t.id)))).map((t=>t.data.category));return(t=>{const e=[];for(const r of t)e.includes(r)||e.push(r);const r=e.map((t=>`<li><button type="button" class="favorites__filter-btn">${t}</button></li>`));return r.unshift('<li><button type="button" class="favorites__filter-btn favorites__active-btn">All categories</button></li>'),r})(e).join("")}catch(t){console.log(t)}},g=async(t,e,r)=>{try{const a=await o(t.map((t=>t.id))),s=(e-1)*r,n=s+r,i=a.slice(s,n);return v(i)}catch(t){console.log(t)}},p=document.querySelector(".favorites__empty"),y=(document.querySelector(".favorites__img"),document.querySelector(".favorites__list-filter")),m=document.querySelector(".favorites__list-cards"),h=document.querySelector(".favorites__pagination");document.querySelector(".favorites__list-cards-thumb");function w(t,r){let a="",s=null,n=r-1,i=r+1;r>1&&(a+=`<li class="favorites__pagination-item">\n    <div class="favorites__pag-container start-container">\n      <svg class="favorites__start-arrow-first">\n        <use href="${e(c)}#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__start-arrow-second">\n        <use href="${e(c)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container prew-container">\n      <svg class="favorites__prew-arrow">\n        <use href="${e(c)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>`),r>2&&(a+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),r==t&&(n-=1),1==r&&(i+=1);for(let e=n;e<=i;e++)e>t||(0==e&&(e+=1),s=r==e?"favorites__active-btn":"",a+=`<li class="favorites__pagination-item ${s}">\n    <span class="favorites__pag-page">${e}</span>\n  </li>`);r<t-1&&(a+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),r<t&&(a+=`<li class="favorites__pagination-item">\n    <div class="favorites__pag-container next-container">\n      <svg class="favorites__next-arrow">\n        <use href="${e(c)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container end-container">\n      <svg class="favorites__end-arrow-first">\n        <use href="${e(c)}#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__end-arrow-second">\n        <use href="${e(c)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>`),h.innerHTML=a}let b=1;const $=async t=>{const e=t.target;(t=>{if(t.classList.contains("favorites__filter-btn")){const e=document.querySelector(".favorites__active-btn");e&&e.classList.remove("favorites__active-btn"),t.classList.add("favorites__active-btn")}})(e);const r=_("favorites");let a=r.filter((t=>t.category===e.textContent));if("All categories"===e.textContent&&(a=r),0!==a.length){b=1;const t=Math.ceil(a.length/12);h.style.display=t>1?"flex":"none",w(t,b);const e=await g(a,b,12);m.style.justifyContent="start",m.innerHTML=e}else m.style.justifyContent="start",m.innerHTML=`<li class="favorites__list-cards-thumb">${u()}</li>`},L=t=>{const e=t.target.closest(".icon-button");if(e){const t=e.id.slice(1),r=e.getAttribute("data-category"),a=_("favorites");let s=[];a&&(s=a);const n=s.findIndex((e=>e.id===t));-1!==n?s.splice(n,1):s.push({id:t,category:r}),localStorage.setItem("favorites",JSON.stringify(s));e.querySelector(".favorites__heart").classList.toggle("heart-isActive")}};let S=1;const x=async(t,e,r,a)=>{if(t.target.closest(".start-container")){S=1;const t=await g(e,S,r);return m.innerHTML=t,w(a,S),S}if(t.target.closest(".favorites__prew-arrow")&&1!==S){S-=1;const t=await g(e,S,r);return m.innerHTML=t,w(a,S),S}if(t.target.closest(".favorites__pag-page"))try{S=Number(t.target.textContent);const s=await g(e,S,r);return m.innerHTML=s,w(a,S),S}catch(t){console.error("An error occurred:",t)}if(t.target.closest(".favorites__next-arrow")){S+=1;const t=await g(e,S,r);return m.innerHTML=t,w(a,S),S}if(t.target.closest(".end-container")){S=a;const t=await g(e,S,r);return m.innerHTML=t,w(a,S),S}};n("jyXRc"),n("6ic0E"),n("iFJJL");let H=null,E=null;h.addEventListener("click",(t=>{x(t,H,12,E)})),(async()=>{if(h.style.display="none",H=_("favorites"),!H||0===H.length)return(t=p).classList.add("empty"),void t.insertAdjacentHTML("beforeend",u());var t;E=Math.ceil(H.length/12);const e=await d(H),r=await g(H,1,12);y.innerHTML=e,m.innerHTML=r,E>1&&(h.style.display="flex",w(E,1)),m.addEventListener("click",L);document.querySelector(".favorites__list-filter").addEventListener("click",$)})();
//# sourceMappingURL=favorites.47f6d067.js.map

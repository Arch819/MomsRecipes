!function(){function t(t,e,r,n){Object.defineProperty(t,e,{get:r,set:n,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},s=r.parcelRequire07b5;null==s&&((s=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){a[t]=e},r.parcelRequire07b5=s),s.register("iE7OH",(function(e,r){var n,a;t(e.exports,"register",(function(){return n}),(function(t){return n=t})),t(e.exports,"resolve",(function(){return a}),(function(t){return a=t}));var s={};n=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)s[e[r]]=t[e[r]]},a=function(t){var e=s[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),s.register("aNJCr",(function(e,r){var n;t(e.exports,"getBundleURL",(function(){return n}),(function(t){return n=t}));var a={};function s(t){return(""+t).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(t){var e=a[t];return e||(e=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(t)return s(t[2])}return"/"}(),a[t]=e),e}})),s("iE7OH").register(JSON.parse('{"i4hX4":"favorites.55710b0f.js","ee16w":"sprite.7aa8ebb7.svg","gt5lo":"favorites.4b3addd2.js"}'));var i=s("bpxeT"),o=s("2TvXO");s("bWgPh"),s("24cCg");i=s("bpxeT"),o=s("2TvXO"),i=s("bpxeT"),o=s("2TvXO");var c,u,l,f=s("dIxxU"),v=(c=e(i)(e(o).mark((function t(r){var n;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.default.get("".concat("https://tasty-treats-backend.p.goit.global/api/recipes/").concat(r));case 3:if(404!==(n=t.sent).status){t.next=6;break}throw new Error("Page not found error 404");case 6:return t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),new Error("an error occurred while fetching the images from the API");case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),function(t){return c.apply(this,arguments)}),p=(u=e(i)(e(o).mark((function t(r){var n,a;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.map(function(){var t=e(i)(e(o).mark((function t(r){var n;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=3,Promise.all(n);case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)}))),function(t){return u.apply(this,arguments)});l=s("aNJCr").getBundleURL("i4hX4")+s("iE7OH").resolve("ee16w");var d=function(t){return"<div class='favorites__rating'>\n              <div class=\"favorites__rating-body\">\n                <div class=\"favorites__rating-active\"><div class='favorites__cards-rating'>".concat(t,"</div>").concat(function(t){for(var r=Math.round(t),n='<svg class="favorites__star-active"><use href="'.concat(e(l),'#icon-star"></use></svg>'),a='<svg class="favorites__star-notActive"><use href="'.concat(e(l),'#icon-star-grey"></use></svg>'),s=[],i=1;i<=5;i+=1)s.push(i>r?a:n);return s.join("")}(t),'</div>\n                <div class="favorites__rating-items">\n                  <input type="radio" class="favorites__rating-item" value="1" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="2" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="3" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="4" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="5" name="rating">\n                </div>\n              </div>\n  \n    </div>')},g=function(t){var r;return(r=t,r.map((function(t){var r=t.data;return'\n        <li class="favorites__cards-item">\n        <button type="button" id="#'.concat(r._id,'" class="icon-button" data-category="').concat(r.category,'"><svg class="favorites__heart heart-isActive"><use href="').concat(e(l),'#icon-heart"></use></svg></button>\n          <img src="').concat(r.preview,'" alt="').concat(r.title,'" width="335">\n          <div class="favorites__cards-thumb">\n            <h2 class="favorites__cards-title">').concat(r.title,'</h2>\n            <p class="favorites__cards-text">').concat(r.description,'</p>\n            <div class="favorites__rating-thumb">\n              ').concat(d(r.rating),'\n              <button class="favorites__cards-btn" data-id="').concat(r._id,'">See recipe</button>\n            </div>\n          </div>\n        </li>')}))).join("")},_=function(){return'<svg class="favorites__empty-img">\n      <use href="'.concat(e(l),'#icon-elements"></use>\n    </svg>\n    <p class="favorites__text">').concat("It appears that you haven't added any recipes to your favorites yet. To get started, you can add recipes that you like to your favorites for easier access in the future.","</p>")},h=function(t){try{var e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch(t){console.error("Error while parsing local storage data:",t)}},m=function(t){return function(t){var e=[],r=!0,n=!1,a=void 0;try{for(var s,i=t[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var o=s.value;e.includes(o)||e.push(o)}}catch(t){n=!0,a=t}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}var c=e.map((function(t){return'<li><button type="button" class="favorites__filter-btn">'.concat(t,"</button></li>")}));return c.unshift('<li><button type="button" class="favorites__filter-btn favorites__active-btn">All categories</button></li>'),c}(t).join("")},b=function(){var t=e(i)(e(o).mark((function t(r){var n,a,s;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p(r.map((function(t){return t.id})));case 3:return n=t.sent,a=n.map((function(t){return t.data.category})),s=m(a),t.abrupt("return",s);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=e(i)(e(o).mark((function t(r,n,a){var s,i,c,u,l;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p(r.map((function(t){return t.id})));case 3:return s=t.sent,c=(i=(n-1)*a)+a,u=s.slice(i,c),l=g(u),t.abrupt("return",l);case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r,n){return t.apply(this,arguments)}}(),w=(i=s("bpxeT"),o=s("2TvXO"),document.querySelector(".favorites__empty")),x=document.querySelector(".favorites__img"),S=document.querySelector(".favorites__list-filter"),k=document.querySelector(".favorites__list-cards"),L=document.querySelector(".favorites__pagination"),T=(document.querySelector(".favorites__list-cards-thumb"),window.innerWidth);function H(t,r){var n="",a=r-1,s=r+1;n+='<li class="favorites__pagination-item">\n    <div class="favorites__pag-container start-container">\n      <svg class="favorites__start-arrow-first">\n        <use href="'.concat(e(l),'#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__start-arrow-second">\n        <use href="').concat(e(l),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container prew-container">\n      <svg class="favorites__prew-arrow">\n        <use href="').concat(e(l),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>'),r>2&&(n+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),T>=768&&(r==t&&(a-=1),1==r&&(s+=1));for(var i=a;i<=s;i++)if(!(i>t)){if(T>=768)0==i&&(i+=1);else if(i<=0)continue;n+='<li class="favorites__pagination-item '.concat(r==i?"favorites__active-btn":"",'">\n    <span class="favorites__pag-page">').concat(i,"</span>\n  </li>")}r<t-1&&(n+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),n+='<li class="favorites__pagination-item">\n    <div class="favorites__pag-container next-container">\n      <svg class="favorites__next-arrow">\n        <use href="'.concat(e(l),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container end-container">\n      <svg class="favorites__end-arrow-first">\n        <use href="').concat(e(l),'#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__end-arrow-second">\n        <use href="').concat(e(l),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>'),L.innerHTML=n}var E=null,M=function(){var t=e(i)(e(o).mark((function t(r,n,a,s){var i,c,u,l,f;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((E=Number(localStorage.getItem("page")))||(E=1),!r.target.closest(".start-container")){t.next=11;break}return E=1,t.next=6,y(n,E,a);case 6:return i=t.sent,k.innerHTML=i,H(s,E),localStorage.setItem("page",E),t.abrupt("return",E);case 11:if(!r.target.closest(".favorites__prew-arrow")){t.next=21;break}if(1===E){t.next=21;break}return E-=1,t.next=16,y(n,E,a);case 16:return c=t.sent,k.innerHTML=c,H(s,E),localStorage.setItem("page",E),t.abrupt("return",E);case 21:if(!r.target.closest(".favorites__pag-page")){t.next=36;break}return t.prev=22,E=Number(r.target.textContent),t.next=26,y(n,E,a);case 26:return u=t.sent,k.innerHTML=u,H(s,E),localStorage.setItem("page",E),t.abrupt("return",E);case 33:t.prev=33,t.t0=t.catch(22),console.error("An error occurred:",t.t0);case 36:if(!r.target.closest(".favorites__next-arrow")){t.next=47;break}if(E===s){t.next=46;break}return E+=1,t.next=41,y(n,E,a);case 41:l=t.sent,k.innerHTML=l,H(s,E),console.log(E),localStorage.setItem("page",E);case 46:return t.abrupt("return",E);case 47:if(!r.target.closest(".end-container")){t.next=56;break}return E=s,t.next=51,y(n,E,a);case 51:return f=t.sent,k.innerHTML=f,H(s,E),localStorage.setItem("page",E),t.abrupt("return",E);case 56:case"end":return t.stop()}}),t,null,[[22,33]])})));return function(e,r,n,a){return t.apply(this,arguments)}}();s("axyAW"),s("8rl3z"),s("62eWH");var O=window.innerWidth,I=9;O>768&&(I=12);var A=null,q=null,j=function(t){if(t.classList.contains("favorites__filter-btn")){var e=document.querySelector(".favorites__active-btn");e&&e.classList.remove("favorites__active-btn"),t.classList.add("favorites__active-btn")}},C=function(t){var e=t.target.closest(".icon-button");if(e){t.target.closest(".favorites__cards-item").style.display="none";var r=e.id.slice(1),n=e.getAttribute("data-category"),a=h("favorites")||[],s=a.findIndex((function(t){return t.id===r}));-1!==s?a.splice(s,1):a.push({id:r,category:n}),localStorage.setItem("favorites",JSON.stringify(a)),e.querySelector(".favorites__heart").classList.toggle("heart-isActive")}},N=function(){var t=e(i)(e(o).mark((function t(r){var n,a,s;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.target,j(n),A=h("favorites"),a=A,"All categories"!==n.textContent&&(a=A.filter((function(t){return t.category===n.textContent}))),0===a.length){t.next=19;break}return localStorage.setItem("page",1),A=a,q=Math.ceil(a.length/I),L.style.display=q>1?"flex":"none",H(q,1),t.next=13,y(a,1,I);case 13:return s=t.sent,k.innerHTML=s,k.style.justifyContent="start",t.abrupt("return",1);case 19:k.innerHTML='<li class="favorites__list-cards-thumb">'.concat(_(),"</li>"),k.style.justifyContent="center";case 20:return t.abrupt("return",1);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=e(i)(e(o).mark((function t(){var r,n;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(L.style.display="none",0!==(A=h("favorites")||[]).length){t.next=6;break}return O<768&&(x.style.display="none"),(e=w).classList.add("empty"),e.insertAdjacentHTML("beforeend",_()),t.abrupt("return");case 6:return x.style.display="block",q=Math.ceil(A.length/I),t.next=10,b(A);case 10:return r=t.sent,t.next=13,y(A,1,I);case 13:n=t.sent,S.innerHTML=r,k.innerHTML=n,q>1&&(L.style.display="flex",H(q,1)),k.addEventListener("click",C);case 18:case"end":return t.stop()}var e}),t)})));return function(){return t.apply(this,arguments)}}();document.querySelector(".favorites__list-filter").addEventListener("click",N),L.addEventListener("click",(function(t){M(t,A,I,q)})),R(),window.addEventListener("beforeunload",(function(){localStorage.removeItem("page")}))}();
//# sourceMappingURL=favorites.55710b0f.js.map

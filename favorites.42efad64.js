!function(){function t(t,e,r,n){Object.defineProperty(t,e,{get:r,set:n,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},s=r.parcelRequire07b5;null==s&&((s=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){a[t]=e},r.parcelRequire07b5=s),s.register("iE7OH",(function(e,r){var n,a;t(e.exports,"register",(function(){return n}),(function(t){return n=t})),t(e.exports,"resolve",(function(){return a}),(function(t){return a=t}));var s={};n=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)s[e[r]]=t[e[r]]},a=function(t){var e=s[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),s.register("aNJCr",(function(e,r){var n;t(e.exports,"getBundleURL",(function(){return n}),(function(t){return n=t}));var a={};function s(t){return(""+t).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(t){var e=a[t];return e||(e=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(t)return s(t[2])}return"/"}(),a[t]=e),e}})),s("iE7OH").register(JSON.parse('{"i4hX4":"favorites.42efad64.js","ee16w":"sprite.7aa8ebb7.svg","46g4K":"elements.5eac9335.jpg","gt5lo":"favorites.f673166f.js"}'));var i=s("bpxeT"),o=s("2TvXO");s("bWgPh"),s("24cCg");i=s("bpxeT"),o=s("2TvXO"),i=s("bpxeT"),o=s("2TvXO");var c,u,f,l=s("dIxxU"),v=(c=e(i)(e(o).mark((function t(r){var n;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.default.get("".concat("https://tasty-treats-backend.p.goit.global/api/recipes/").concat(r));case 3:if(404!==(n=t.sent).status){t.next=6;break}throw new Error("Page not found error 404");case 6:return t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),new Error("an error occurred while fetching the images from the API");case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),function(t){return c.apply(this,arguments)}),p=(u=e(i)(e(o).mark((function t(r){var n,a;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.map(function(){var t=e(i)(e(o).mark((function t(r){var n;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=3,Promise.all(n);case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)}))),function(t){return u.apply(this,arguments)});f=s("aNJCr").getBundleURL("i4hX4")+s("iE7OH").resolve("ee16w");var d;d=s("aNJCr").getBundleURL("i4hX4")+s("iE7OH").resolve("46g4K");var _=function(t){return"<div class='favorites__rating'>\n              <div class=\"favorites__rating-body\">\n                <div class=\"favorites__rating-active\"><div class='favorites__cards-rating'>".concat(t,"</div>").concat(function(t){for(var r=Math.round(t),n='<svg class="favorites__star-active"><use href="'.concat(e(f),'#icon-star"></use></svg>'),a='<svg class="favorites__star-notActive"><use href="'.concat(e(f),'#icon-star-grey"></use></svg>'),s=[],i=1;i<=5;i+=1)s.push(i>r?a:n);return s.join("")}(t),'</div>\n                <div class="favorites__rating-items">\n                  <input type="radio" class="favorites__rating-item" value="1" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="2" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="3" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="4" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="5" name="rating">\n                </div>\n              </div>\n  \n    </div>')},g=function(t){var r;return(r=t,r.map((function(t){var r=t.data;return'\n        <li class="favorites__cards-item">\n        <button type="button" id="#'.concat(r._id,'" class="icon-button" data-category="').concat(r.category,'"><svg class="favorites__heart heart-isActive"><use href="').concat(e(f),'#icon-heart"></use></svg></button>\n          <img src="').concat(r.preview,'" alt="').concat(r.title,'" width="335">\n          <div class="favorites__cards-thumb">\n            <h2 class="favorites__cards-title">').concat(r.title,'</h2>\n            <p class="favorites__cards-text">').concat(r.description,'</p>\n            <div class="favorites__rating-thumb">\n              ').concat(_(r.rating),'\n              <button class="favorites__cards-btn">See recipe</button>\n            </div>\n          </div>\n        </li>')}))).join("")},h=function(){return'\n    <img src="'.concat(e(d),'" class="favorites__empty-img" alt="chef\'s hat">\n    <p class="favorites__text">').concat("It appears that you haven't added any recipes to your favorites yet. To get started, you can add recipes that you like to your favorites for easier access in the future.","</p>")},b=function(t){return JSON.parse(localStorage.getItem(t))},m=function(t){return function(t){var e=[],r=!0,n=!1,a=void 0;try{for(var s,i=t[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var o=s.value;e.includes(o)||e.push(o)}}catch(t){n=!0,a=t}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}var c=e.map((function(t){return'<li><button type="button" class="favorites__filter-btn">'.concat(t,"</button></li>")}));return c.unshift('<li><button type="button" class="favorites__filter-btn favorites__active-btn">All categories</button></li>'),c}(t).join("")},y=function(){var t=e(i)(e(o).mark((function t(r){var n,a,s;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p(r.map((function(t){return t.id})));case 3:return n=t.sent,a=n.map((function(t){return t.data.category})),s=m(a),t.abrupt("return",s);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=e(i)(e(o).mark((function t(r,n,a){var s,i,c,u,f;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p(r.map((function(t){return t.id})));case 3:return s=t.sent,c=(i=(n-1)*a)+a,u=s.slice(i,c),f=g(u),t.abrupt("return",f);case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r,n){return t.apply(this,arguments)}}(),w=(i=s("bpxeT"),o=s("2TvXO"),document.querySelector(".favorites__empty")),k=(document.querySelector(".favorites__img"),document.querySelector(".favorites__list-filter")),T=document.querySelector(".favorites__list-cards"),H=document.querySelector(".favorites__pagination");document.querySelector(".favorites__list-cards-thumb");function L(t,r){var n="",a=r-1,s=r+1;r>1&&(n+='<li class="favorites__pagination-item">\n    <div class="favorites__pag-container start-container">\n      <svg class="favorites__start-arrow-first">\n        <use href="'.concat(e(f),'#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__start-arrow-second">\n        <use href="').concat(e(f),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container prew-container">\n      <svg class="favorites__prew-arrow">\n        <use href="').concat(e(f),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>')),r>2&&(n+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),r==t&&(a-=1),1==r&&(s+=1);for(var i=a;i<=s;i++)i>t||(0==i&&(i+=1),n+='<li class="favorites__pagination-item '.concat(r==i?"favorites__active-btn":"",'">\n    <span class="favorites__pag-page">').concat(i,"</span>\n  </li>"));r<t-1&&(n+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),r<t&&(n+='<li class="favorites__pagination-item">\n    <div class="favorites__pag-container next-container">\n      <svg class="favorites__next-arrow">\n        <use href="'.concat(e(f),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container end-container">\n      <svg class="favorites__end-arrow-first">\n        <use href="').concat(e(f),'#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__end-arrow-second">\n        <use href="').concat(e(f),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>')),H.innerHTML=n}var S=1,E=function(t){if(t.classList.contains("favorites__filter-btn")){var e=document.querySelector(".favorites__active-btn");e&&e.classList.remove("favorites__active-btn"),t.classList.add("favorites__active-btn")}},O=function(){var t=e(i)(e(o).mark((function t(r){var n,a,s,i,c;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.target,E(n),a=b("favorites"),s=a.filter((function(t){return t.category===n.textContent})),"All categories"===n.textContent&&(s=a),0===s.length){t.next=17;break}return S=1,i=Math.ceil(s.length/12),H.style.display=i>1?"flex":"none",L(i,S),t.next=12,x(s,S,12);case 12:c=t.sent,T.style.justifyContent="start",T.innerHTML=c,t.next=18;break;case 17:T.style.justifyContent="start",T.innerHTML='<li class="favorites__list-cards-thumb">'.concat(h(),"</li>");case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=function(t){var e=t.target.closest(".icon-button");if(e){var r=e.id.slice(1),n=e.getAttribute("data-category"),a=b("favorites"),s=[];a&&(s=a);var i=s.findIndex((function(t){return t.id===r}));-1!==i?s.splice(i,1):s.push({id:r,category:n}),localStorage.setItem("favorites",JSON.stringify(s)),e.querySelector(".favorites__heart").classList.toggle("heart-isActive")}},A=(i=s("bpxeT"),o=s("2TvXO"),1),j=function(){var t=e(i)(e(o).mark((function t(r,n,a,s){var i,c,u,f,l;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.target.closest(".start-container")){t.next=8;break}return A=1,t.next=4,x(n,A,a);case 4:return i=t.sent,T.innerHTML=i,L(s,A),t.abrupt("return",A);case 8:if(!r.target.closest(".favorites__prew-arrow")){t.next=17;break}if(1===A){t.next=17;break}return A-=1,t.next=13,x(n,A,a);case 13:return c=t.sent,T.innerHTML=c,L(s,A),t.abrupt("return",A);case 17:if(!r.target.closest(".favorites__pag-page")){t.next=31;break}return t.prev=18,A=Number(r.target.textContent),t.next=22,x(n,A,a);case 22:return u=t.sent,T.innerHTML=u,L(s,A),t.abrupt("return",A);case 28:t.prev=28,t.t0=t.catch(18),console.error("An error occurred:",t.t0);case 31:if(!r.target.closest(".favorites__next-arrow")){t.next=39;break}return A+=1,t.next=35,x(n,A,a);case 35:return f=t.sent,T.innerHTML=f,L(s,A),t.abrupt("return",A);case 39:if(!r.target.closest(".end-container")){t.next=47;break}return A=s,t.next=43,x(n,A,a);case 43:return l=t.sent,T.innerHTML=l,L(s,A),t.abrupt("return",A);case 47:case"end":return t.stop()}}),t,null,[[18,28]])})));return function(e,r,n,a){return t.apply(this,arguments)}}();s("axyAW"),s("8rl3z"),s("62eWH");var q=null,C=null,N=function(){var t=e(i)(e(o).mark((function t(){var r,n;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(H.style.display="none",(q=b("favorites"))&&0!==q.length){t.next=5;break}return(e=w).classList.add("empty"),e.insertAdjacentHTML("beforeend",h()),t.abrupt("return");case 5:return C=Math.ceil(q.length/12),t.next=8,y(q);case 8:return r=t.sent,t.next=11,x(q,1,12);case 11:n=t.sent,k.innerHTML=r,T.innerHTML=n,C>1&&(H.style.display="flex",L(C,1)),T.addEventListener("click",M),document.querySelector(".favorites__list-filter").addEventListener("click",O);case 18:case"end":return t.stop()}var e}),t)})));return function(){return t.apply(this,arguments)}}();H.addEventListener("click",(function(t){j(t,q,12,C)})),N()}();
//# sourceMappingURL=favorites.42efad64.js.map

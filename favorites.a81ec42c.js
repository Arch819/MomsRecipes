function t(t,e,r,a){Object.defineProperty(t,e,{get:r,set:a,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},s={},n=r.parcelRequire07b5;null==n&&((n=function(t){if(t in a)return a[t].exports;if(t in s){var e=s[t];delete s[t];var r={id:t,exports:{}};return a[t]=r,e.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(t,e){s[t]=e},r.parcelRequire07b5=n),n.register("kyEFX",(function(e,r){var a,s;t(e.exports,"register",(function(){return a}),(function(t){return a=t})),t(e.exports,"resolve",(function(){return s}),(function(t){return s=t}));var n={};a=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)n[e[r]]=t[e[r]]},s=function(t){var e=n[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),n("kyEFX").register(JSON.parse('{"dFrGZ":"favorites.a81ec42c.js","lp5u4":"sprite.7aa8ebb7.svg","h5tdm":"favorites.63bf4c5d.js"}')),n("7Th1V"),n("imn7x");var i=n("2shzp");const o=async t=>{const e=t.map((async t=>{const e=await(async t=>{try{const e=await i.default.get(`https://tasty-treats-backend.p.goit.global/api/recipes/${t}`);if(404===e.status)throw new Error("Page not found error 404");return e}catch{throw new Error("an error occurred while fetching the images from the API")}})(t);return e}));return await Promise.all(e)};var c;c=new URL(n("kyEFX").resolve("lp5u4"),import.meta.url).toString();const l=t=>`<div class='favorites__rating'>\n              <div class="favorites__rating-body">\n                <div class="favorites__rating-active"><div class='favorites__cards-rating'>${t}</div>${(t=>{const r=Math.round(t),a=`<svg class="favorites__star-active"><use href="${e(c)}#icon-star"></use></svg>`,s=`<svg class="favorites__star-notActive"><use href="${e(c)}#icon-star-grey"></use></svg>`;let n=[];for(let t=1;t<=5;t+=1)n.push(t>r?s:a);return n.join("")})(t)}</div>\n                <div class="favorites__rating-items">\n                  <input type="radio" class="favorites__rating-item" value="1" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="2" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="3" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="4" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="5" name="rating">\n                </div>\n              </div>\n  \n    </div>`,f=t=>{var r;return(r=t,r.map((({data:t})=>`\n        <li class="favorites__cards-item">\n        <button type="button" id="#${t._id}" class="icon-button" data-category="${t.category}"><svg class="favorites__heart heart-isActive"><use href="${e(c)}#icon-heart"></use></svg></button>\n          <img src="${t.preview}" alt="${t.title}" width="335">\n          <div class="favorites__cards-thumb">\n            <h2 class="favorites__cards-title">${t.title}</h2>\n            <p class="favorites__cards-text">${t.description}</p>\n            <div class="favorites__rating-thumb">\n              ${l(t.rating)}\n              <button class="favorites__cards-btn" data-id="${t._id}">See recipe</button>\n            </div>\n          </div>\n        </li>`))).join("")},v=()=>`<svg class="favorites__empty-img">\n      <use href="${e(c)}#icon-elements"></use>\n    </svg>\n    <p class="favorites__text">It appears that you haven't added any recipes to your favorites yet. To get started, you can add recipes that you like to your favorites for easier access in the future.</p>`,u=t=>{try{const e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch(t){console.error("Error while parsing local storage data:",t)}},d=async t=>{try{const e=(await o(t.map((t=>t.id)))).map((t=>t.data.category));return(t=>{const e=[];for(const r of t)e.includes(r)||e.push(r);const r=e.map((t=>`<li><button type="button" class="favorites__filter-btn">${t}</button></li>`));return r.unshift('<li><button type="button" class="favorites__filter-btn favorites__active-btn">All categories</button></li>'),r})(e).join("")}catch(t){console.log(t)}},_=async(t,e,r)=>{try{const a=await o(t.map((t=>t.id))),s=(e-1)*r,n=s+r,i=a.slice(s,n);return f(i)}catch(t){console.log(t)}},g=document.querySelector(".favorites__empty"),p=document.querySelector(".favorites__img"),y=document.querySelector(".favorites__list-filter"),m=document.querySelector(".favorites__list-cards"),h=document.querySelector(".favorites__pagination"),w=(document.querySelector(".favorites__list-cards-thumb"),window.innerWidth);function b(t,r){let a="",s=null,n=r-1,i=r+1;a+=`<li class="favorites__pagination-item">\n    <div class="favorites__pag-container start-container">\n      <svg class="favorites__start-arrow-first">\n        <use href="${e(c)}#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__start-arrow-second">\n        <use href="${e(c)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container prew-container">\n      <svg class="favorites__prew-arrow">\n        <use href="${e(c)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>`,r>2&&(a+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),w>=768&&(r==t&&(n-=1),1==r&&(i+=1));for(let e=n;e<=i;e++)if(!(e>t)){if(w>=768)0==e&&(e+=1);else if(e<=0)continue;s=r==e?"favorites__active-btn":"",a+=`<li class="favorites__pagination-item ${s}">\n    <span class="favorites__pag-page">${e}</span>\n  </li>`}r<t-1&&(a+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),a+=`<li class="favorites__pagination-item">\n    <div class="favorites__pag-container next-container">\n      <svg class="favorites__next-arrow">\n        <use href="${e(c)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container end-container">\n      <svg class="favorites__end-arrow-first">\n        <use href="${e(c)}#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__end-arrow-second">\n        <use href="${e(c)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>`,h.innerHTML=a}let S=null;const $=async(t,e,r,a)=>{if(S=Number(localStorage.getItem("page")),S||(S=1),t.target.closest(".start-container")){S=1;const t=await _(e,S,r);return m.innerHTML=t,b(a,S),localStorage.setItem("page",S),S}if(t.target.closest(".favorites__prew-arrow")&&1!==S){S-=1;const t=await _(e,S,r);return m.innerHTML=t,b(a,S),localStorage.setItem("page",S),S}if(t.target.closest(".favorites__pag-page"))try{S=Number(t.target.textContent);const s=await _(e,S,r);return m.innerHTML=s,b(a,S),localStorage.setItem("page",S),S}catch(t){console.error("An error occurred:",t)}if(t.target.closest(".favorites__next-arrow")){if(S!==a){S+=1;const t=await _(e,S,r);m.innerHTML=t,b(a,S),console.log(S),localStorage.setItem("page",S)}return S}if(t.target.closest(".end-container")){S=a;const t=await _(e,S,r);return m.innerHTML=t,b(a,S),localStorage.setItem("page",S),S}};n("jyXRc"),n("6ic0E"),n("iFJJL");const L=window.innerWidth;let x=9;L>768&&(x=12);let E=null,H=null;const M=t=>{const e=t.target.closest(".icon-button");if(!e)return;t.target.closest(".favorites__cards-item").style.display="none";const r=e.id.slice(1),a=e.getAttribute("data-category"),s=u("favorites")||[],n=s.findIndex((t=>t.id===r));-1!==n?s.splice(n,1):s.push({id:r,category:a}),localStorage.setItem("favorites",JSON.stringify(s));e.querySelector(".favorites__heart").classList.toggle("heart-isActive")};document.querySelector(".favorites__list-filter").addEventListener("click",(async t=>{const e=t.target;(t=>{if(t.classList.contains("favorites__filter-btn")){const e=document.querySelector(".favorites__active-btn");e&&e.classList.remove("favorites__active-btn"),t.classList.add("favorites__active-btn")}})(e),E=u("favorites");let r=E;if("All categories"!==e.textContent&&(r=E.filter((t=>t.category===e.textContent))),0!==r.length){localStorage.setItem("page",1),E=r,H=Math.ceil(r.length/x),h.style.display=H>1?"flex":"none",b(H,1);const t=await _(r,1,x);return m.innerHTML=t,m.style.justifyContent="start",1}return m.innerHTML=`<li class="favorites__list-cards-thumb">${v()}</li>`,m.style.justifyContent="center",1})),h.addEventListener("click",(t=>{$(t,E,x,H)})),(async()=>{if(h.style.display="none",E=u("favorites")||[],0===E.length)return L<768&&(p.style.display="none"),(t=g).classList.add("empty"),void t.insertAdjacentHTML("beforeend",v());var t;p.style.display="block",H=Math.ceil(E.length/x);const e=await d(E),r=await _(E,1,x);y.innerHTML=e,m.innerHTML=r,H>1&&(h.style.display="flex",b(H,1)),m.addEventListener("click",M)})(),window.addEventListener("beforeunload",(()=>{localStorage.removeItem("page")}));
//# sourceMappingURL=favorites.a81ec42c.js.map

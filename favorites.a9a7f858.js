!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=r.parcelRequire07b5;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},r.parcelRequire07b5=i),i.register("iE7OH",(function(t,r){var n,a;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var i={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)i[t[r]]=e[t[r]]},a=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("aNJCr",(function(t,r){var n;e(t.exports,"getBundleURL",(function(){return n}),(function(e){return n=e}));var a={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(e){var t=a[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),a[e]=t),t}})),i("iE7OH").register(JSON.parse('{"i4hX4":"favorites.a9a7f858.js","ee16w":"sprite.7aa8ebb7.svg","46g4K":"elements.5eac9335.jpg","gt5lo":"favorites.f673166f.js"}'));var s=i("bpxeT"),o=i("2TvXO");i("bWgPh"),i("24cCg");s=i("bpxeT"),o=i("2TvXO"),s=i("bpxeT"),o=i("2TvXO");var c,u,l,f=i("dIxxU"),v=(c=t(s)(t(o).mark((function e(r){var n;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.default.get("".concat("https://tasty-treats-backend.p.goit.global/api/recipes/").concat(r));case 3:if(404!==(n=e.sent).status){e.next=6;break}throw new Error("Page not found error 404");case 6:return e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),new Error("an error occurred while fetching the images from the API");case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return c.apply(this,arguments)}),p=(u=t(s)(t(o).mark((function e(r){var n,a;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.map(function(){var e=t(s)(t(o).mark((function e(r){var n;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)});l=i("aNJCr").getBundleURL("i4hX4")+i("iE7OH").resolve("ee16w");var g;g=i("aNJCr").getBundleURL("i4hX4")+i("iE7OH").resolve("46g4K");var d=function(e){return"<div class='favorites__rating'>\n              <div class=\"favorites__rating-body\">\n                <div class=\"favorites__rating-active\"><div class='favorites__cards-rating'>".concat(e,"</div>").concat(function(e){for(var r=Math.round(e),n='<svg class="favorites__star-active"><use href="'.concat(t(l),'#icon-star"></use></svg>'),a='<svg class="favorites__star-notActive"><use href="'.concat(t(l),'#icon-star-grey"></use></svg>'),i=[],s=1;s<=5;s+=1)i.push(s>r?a:n);return i.join("")}(e),'</div>\n                <div class="favorites__rating-items">\n                  <input type="radio" class="favorites__rating-item" value="1" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="2" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="3" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="4" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="5" name="rating">\n                </div>\n              </div>\n  \n    </div>')},_=function(e){var r;return(r=e,r.map((function(e){var r=e.data;return'\n        <li class="favorites__cards-item">\n        <button type="button" id="#'.concat(r._id,'" class="icon-button" data-category="').concat(r.category,'"><svg class="favorites__heart heart-isActive"><use href="').concat(t(l),'#icon-heart"></use></svg></button>\n          <img src="').concat(r.preview,'" alt="').concat(r.title,'" width="335">\n          <div class="favorites__cards-thumb">\n            <h2 class="favorites__cards-title">').concat(r.title,'</h2>\n            <p class="favorites__cards-text">').concat(r.description,'</p>\n            <div class="favorites__rating-thumb">\n              ').concat(d(r.rating),'\n              <button class="favorites__cards-btn">See recipe</button>\n            </div>\n          </div>\n        </li>')}))).join("")},h=function(){return'\n    <img src="'.concat(t(g),'" class="favorites__empty-img" alt="chef\'s hat">\n    <p class="favorites__text">').concat("It appears that you haven't added any recipes to your favorites yet. To get started, you can add recipes that you like to your favorites for easier access in the future.","</p>")},m=function(e){try{var t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(e){console.error("Error while parsing local storage data:",e)}},b=function(e){return function(e){var t=[],r=!0,n=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value;t.includes(o)||t.push(o)}}catch(e){n=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}var c=t.map((function(e){return'<li><button type="button" class="favorites__filter-btn">'.concat(e,"</button></li>")}));return c.unshift('<li><button type="button" class="favorites__filter-btn favorites__active-btn">All categories</button></li>'),c}(e).join("")},y=function(){var e=t(s)(t(o).mark((function e(r){var n,a,i;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(r.map((function(e){return e.id})));case 3:return n=e.sent,a=n.map((function(e){return e.data.category})),i=b(a),e.abrupt("return",i);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=t(s)(t(o).mark((function e(r,n,a){var i,s,c,u,l;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(r.map((function(e){return e.id})));case 3:return i=e.sent,c=(s=(n-1)*a)+a,u=i.slice(s,c),l=_(u),e.abrupt("return",l);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r,n){return e.apply(this,arguments)}}(),x=(s=i("bpxeT"),o=i("2TvXO"),document.querySelector(".favorites__empty")),S=(document.querySelector(".favorites__img"),document.querySelector(".favorites__list-filter")),k=document.querySelector(".favorites__list-cards"),H=document.querySelector(".favorites__pagination"),L=(document.querySelector(".favorites__list-cards-thumb"),window.innerWidth);function T(e,r){var n="",a=r-1,i=r+1;n+='<li class="favorites__pagination-item">\n    <div class="favorites__pag-container start-container">\n      <svg class="favorites__start-arrow-first">\n        <use href="'.concat(t(l),'#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__start-arrow-second">\n        <use href="').concat(t(l),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container prew-container">\n      <svg class="favorites__prew-arrow">\n        <use href="').concat(t(l),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>'),r>2&&(n+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),L>=768&&(r==e&&(a-=1),1==r&&(i+=1));for(var s=a;s<=i;s++)if(!(s>e)){if(L>=768)0==s&&(s+=1);else if(s<=0)continue;n+='<li class="favorites__pagination-item '.concat(r==s?"favorites__active-btn":"",'">\n    <span class="favorites__pag-page">').concat(s,"</span>\n  </li>")}r<e-1&&(n+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),n+='<li class="favorites__pagination-item">\n    <div class="favorites__pag-container next-container">\n      <svg class="favorites__next-arrow">\n        <use href="'.concat(t(l),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container end-container">\n      <svg class="favorites__end-arrow-first">\n        <use href="').concat(t(l),'#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__end-arrow-second">\n        <use href="').concat(t(l),'#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>'),H.innerHTML=n}var E=function(){var e=t(s)(t(o).mark((function e(r,n,a,i){var s,c,u,l,f;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(page=Number(localStorage.getItem("page")),page||(page=1),!r.target.closest(".start-container")){e.next=11;break}return page=1,e.next=6,w(n,page,a);case 6:return s=e.sent,k.innerHTML=s,T(i,page),localStorage.setItem("page",page),e.abrupt("return",page);case 11:if(!r.target.closest(".favorites__prew-arrow")){e.next=21;break}if(1===page){e.next=21;break}return page-=1,e.next=16,w(n,page,a);case 16:return c=e.sent,k.innerHTML=c,T(i,page),localStorage.setItem("page",page),e.abrupt("return",page);case 21:if(!r.target.closest(".favorites__pag-page")){e.next=36;break}return e.prev=22,page=Number(r.target.textContent),e.next=26,w(n,page,a);case 26:return u=e.sent,k.innerHTML=u,T(i,page),localStorage.setItem("page",page),e.abrupt("return",page);case 33:e.prev=33,e.t0=e.catch(22),console.error("An error occurred:",e.t0);case 36:if(!r.target.closest(".favorites__next-arrow")){e.next=47;break}if(page===i){e.next=46;break}return page+=1,e.next=41,w(n,page,a);case 41:l=e.sent,k.innerHTML=l,T(i,page),console.log(page),localStorage.setItem("page",page);case 46:return e.abrupt("return",page);case 47:if(!r.target.closest(".end-container")){e.next=56;break}return page=i,e.next=51,w(n,page,a);case 51:return f=e.sent,k.innerHTML=f,T(i,page),localStorage.setItem("page",page),e.abrupt("return",page);case 56:case"end":return e.stop()}}),e,null,[[22,33]])})));return function(t,r,n,a){return e.apply(this,arguments)}}();i("axyAW"),i("8rl3z"),i("62eWH");var M=9;window.innerWidth>768&&(M=12);var O=null,A=null,I=function(e){if(e.classList.contains("favorites__filter-btn")){var t=document.querySelector(".favorites__active-btn");t&&t.classList.remove("favorites__active-btn"),e.classList.add("favorites__active-btn")}},q=function(e){var t=e.target.closest(".icon-button");if(t){var r=t.id.slice(1),n=t.getAttribute("data-category"),a=m("favorites")||[],i=a.findIndex((function(e){return e.id===r}));-1!==i?a.splice(i,1):a.push({id:r,category:n}),localStorage.setItem("favorites",JSON.stringify(a)),t.querySelector(".favorites__heart").classList.toggle("heart-isActive")}},N=function(){var e=t(s)(t(o).mark((function e(r){var n,a,i;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.target,I(n),O=m("favorites"),a=O,"All categories"!==n.textContent&&(a=O.filter((function(e){return e.category===n.textContent}))),0===a.length){e.next=18;break}return localStorage.setItem("page",1),O=a,A=Math.ceil(a.length/M),H.style.display=A>1?"flex":"none",T(A,1),e.next=13,w(a,1,M);case 13:return i=e.sent,k.innerHTML=i,e.abrupt("return",1);case 18:k.innerHTML='<li class="favorites__list-cards-thumb">'.concat(h(),"</li>");case 19:return e.abrupt("return",1);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=t(s)(t(o).mark((function e(){var r,n;return t(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H.style.display="none",0!==(O=m("favorites")||[]).length){e.next=5;break}return(t=x).classList.add("empty"),t.insertAdjacentHTML("beforeend",h()),e.abrupt("return");case 5:return A=Math.ceil(O.length/M),e.next=8,y(O);case 8:return r=e.sent,e.next=11,w(O,1,M);case 11:n=e.sent,S.innerHTML=r,k.innerHTML=n,A>1&&(H.style.display="flex",T(A,1)),k.addEventListener("click",q);case 16:case"end":return e.stop()}var t}),e)})));return function(){return e.apply(this,arguments)}}();document.querySelector(".favorites__list-filter").addEventListener("click",N),H.addEventListener("click",(function(e){E(e,O,M,A)})),j(),window.addEventListener("beforeunload",(function(){localStorage.removeItem("page")}))}();
//# sourceMappingURL=favorites.a9a7f858.js.map

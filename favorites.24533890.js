function e(e,t,a,r){Object.defineProperty(e,t,{get:a,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},s={},n=a.parcelRequire07b5;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in s){var t=s[e];delete s[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){s[e]=t},a.parcelRequire07b5=n),n.register("kyEFX",(function(t,a){var r,s;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return s}),(function(e){return s=e}));var n={};r=function(e){for(var t=Object.keys(e),a=0;a<t.length;a++)n[t[a]]=e[t[a]]},s=function(e){var t=n[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),n("kyEFX").register(JSON.parse('{"dFrGZ":"favorites.24533890.js","lp5u4":"sprite.7aa8ebb7.svg","h5tdm":"favorites.63bf4c5d.js"}')),n("7Th1V"),n("imn7x");var i=n("2shzp");const o=async e=>{const t=e.map((async e=>{const t=await(async e=>{try{const t=await i.default.get(`https://tasty-treats-backend.p.goit.global/api/recipes/${e}`);if(404===t.status)throw new Error("Page not found error 404");return t}catch{throw new Error("an error occurred while fetching the images from the API")}})(e);return t}));return await Promise.all(t)};var c;c=new URL(n("kyEFX").resolve("lp5u4"),import.meta.url).toString();const l=e=>`<div class='favorites__rating'>\n              <div class="favorites__rating-body">\n                <div class="favorites__rating-active"><div class='favorites__cards-rating'>${e}</div>${(e=>{const a=Math.round(e),r=`<svg class="favorites__star-active"><use href="${t(c)}#icon-star"></use></svg>`,s=`<svg class="favorites__star-notActive"><use href="${t(c)}#icon-star-grey"></use></svg>`;let n=[];for(let e=1;e<=5;e+=1)n.push(e>a?s:r);return n.join("")})(e)}</div>\n                <div class="favorites__rating-items">\n                  <input type="radio" class="favorites__rating-item" value="1" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="2" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="3" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="4" name="rating">\n                  <input type="radio" class="favorites__rating-item" value="5" name="rating">\n                </div>\n              </div>\n  \n    </div>`,g=e=>{var a;return(a=e,a.map((({data:e})=>`\n        <li class="favorites__cards-item">\n        <button type="button" id="#${e._id}" class="icon-button" data-category="${e.category}"><svg class="favorites__heart heart-isActive"><use href="${t(c)}#icon-heart"></use></svg></button>\n          <img src="${e.preview}" alt="${e.title}" width="335">\n          <div class="favorites__cards-thumb">\n            <h2 class="favorites__cards-title">${e.title}</h2>\n            <p class="favorites__cards-text">${e.description}</p>\n            <div class="favorites__rating-thumb">\n              ${l(e.rating)}\n              <button class="favorites__cards-btn" data-id="${e._id}">See recipe</button>\n            </div>\n          </div>\n        </li>`))).join("")},f=()=>`<svg class="favorites__empty-img">\n      <use href="${t(c)}#icon-elements"></use>\n    </svg>\n    <p class="favorites__text">It appears that you haven't added any recipes to your favorites yet. To get started, you can add recipes that you like to your favorites for easier access in the future.</p>`,v=e=>{try{const t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(e){console.error("Error while parsing local storage data:",e)}},u=async e=>{try{const t=(await o(e.map((e=>e.id)))).map((e=>e.data.category));return(e=>{const t=[];for(const a of e)t.includes(a)||t.push(a);const a=t.map((e=>`<li><button type="button" class="favorites__filter-btn">${e}</button></li>`));return a.unshift('<li><button type="button" class="favorites__filter-btn favorites__active-btn">All categories</button></li>'),a})(t).join("")}catch(e){console.log(e)}},d=async(e,t,a)=>{try{const r=await o(e.map((e=>e.id))),s=(t-1)*a,n=s+a,i=r.slice(s,n);return g(i)}catch(e){console.log(e)}},p=document.querySelector(".favorites__empty"),_=document.querySelector(".favorites__img"),y=document.querySelector(".favorites__list-filter"),m=document.querySelector(".favorites__list-cards"),h=document.querySelector(".favorites__pagination"),w=(document.querySelector(".favorites__list-cards-thumb"),window.innerWidth);function b(e,a){let r="",s=null,n=a-1,i=a+1;r+=`<li class="favorites__pagination-item">\n    <div class="favorites__pag-container start-container">\n      <svg class="favorites__start-arrow-first">\n        <use href="${t(c)}#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__start-arrow-second">\n        <use href="${t(c)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container prew-container">\n      <svg class="favorites__prew-arrow">\n        <use href="${t(c)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>`,a>2&&(r+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),w>=768&&(a==e&&(n-=1),1==a&&(i+=1));for(let t=n;t<=i;t++)if(!(t>e)){if(w>=768)0==t&&(t+=1);else if(t<=0)continue;s=a==t?"favorites__active-btn":"",r+=`<li class="favorites__pagination-item ${s}">\n    <span class="favorites__pag-page">${t}</span>\n  </li>`}a<e-1&&(r+='<li class="favorites__pagination-item">\n    <span class="favorites_page-dots-first">...</span>\n  </li>'),r+=`<li class="favorites__pagination-item">\n    <div class="favorites__pag-container next-container">\n      <svg class="favorites__next-arrow">\n        <use href="${t(c)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>\n  <li class="favorites__pagination-item">\n    <div class="favorites__pag-container end-container">\n      <svg class="favorites__end-arrow-first">\n        <use href="${t(c)}#icon-arrow"></use>\n      </svg>\n      <svg class="favorites__end-arrow-second">\n        <use href="${t(c)}#icon-arrow"></use>\n      </svg>\n    </div>\n  </li>`,h.innerHTML=r}const S=async(e,t,a,r)=>{if(page=Number(localStorage.getItem("page")),page||(page=1),e.target.closest(".start-container")){page=1;const e=await d(t,page,a);return m.innerHTML=e,b(r,page),localStorage.setItem("page",page),page}if(e.target.closest(".favorites__prew-arrow")&&1!==page){page-=1;const e=await d(t,page,a);return m.innerHTML=e,b(r,page),localStorage.setItem("page",page),page}if(e.target.closest(".favorites__pag-page"))try{page=Number(e.target.textContent);const s=await d(t,page,a);return m.innerHTML=s,b(r,page),localStorage.setItem("page",page),page}catch(e){console.error("An error occurred:",e)}if(e.target.closest(".favorites__next-arrow")){if(page!==r){page+=1;const e=await d(t,page,a);m.innerHTML=e,b(r,page),console.log(page),localStorage.setItem("page",page)}return page}if(e.target.closest(".end-container")){page=r;const e=await d(t,page,a);return m.innerHTML=e,b(r,page),localStorage.setItem("page",page),page}};n("jyXRc"),n("6ic0E"),n("iFJJL");const $=window.innerWidth;let L=9;$>768&&(L=12);let x=null,E=null;const H=e=>{const t=e.target.closest(".icon-button");if(!t)return;e.target.closest(".favorites__cards-item").style.display="none";const a=t.id.slice(1),r=t.getAttribute("data-category"),s=v("favorites")||[],n=s.findIndex((e=>e.id===a));-1!==n?s.splice(n,1):s.push({id:a,category:r}),localStorage.setItem("favorites",JSON.stringify(s));t.querySelector(".favorites__heart").classList.toggle("heart-isActive")};document.querySelector(".favorites__list-filter").addEventListener("click",(async e=>{const t=e.target;(e=>{if(e.classList.contains("favorites__filter-btn")){const t=document.querySelector(".favorites__active-btn");t&&t.classList.remove("favorites__active-btn"),e.classList.add("favorites__active-btn")}})(t),x=v("favorites");let a=x;if("All categories"!==t.textContent&&(a=x.filter((e=>e.category===t.textContent))),0!==a.length){localStorage.setItem("page",1),x=a,E=Math.ceil(a.length/L),h.style.display=E>1?"flex":"none",b(E,1);const e=await d(a,1,L);return m.innerHTML=e,m.style.justifyContent="start",1}return m.innerHTML=`<li class="favorites__list-cards-thumb">${f()}</li>`,m.style.justifyContent="center",1})),h.addEventListener("click",(e=>{S(e,x,L,E)})),(async()=>{if(h.style.display="none",x=v("favorites")||[],0===x.length)return $<768&&(_.style.display="none"),(e=p).classList.add("empty"),void e.insertAdjacentHTML("beforeend",f());var e;_.style.display="block",E=Math.ceil(x.length/L);const t=await u(x),a=await d(x,1,L);y.innerHTML=t,m.innerHTML=a,E>1&&(h.style.display="flex",b(E,1)),m.addEventListener("click",H)})(),window.addEventListener("beforeunload",(()=>{localStorage.removeItem("page")}));
//# sourceMappingURL=favorites.24533890.js.map
